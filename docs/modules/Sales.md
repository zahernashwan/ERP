# المبيعات (Sales)

## الوصف العام

وحدة المبيعات تغطي إدارة فواتير المبيعات ومردودات المبيعات. تشمل العمليات: إصدار فاتورة مبيعات، تسجيل مردود مبيعات، وربط الحركات بالحسابات والمخزون.

## الموقع في الكود

> لم تُنفَّذ بعد — مخطط لها ضمن التوسعات المستقبلية.

```
src/ERP.Domain/Sales/          (مخطط)
src/ERP.Application/Sales/     (مخطط)
```

## الكيانات والـ Value Objects

> سيتم تعريفها عند التنفيذ. المتوقع:

| العنصر | النوع | الوصف |
| --- | --- | --- |
| `SalesInvoice` | Aggregate Root | فاتورة المبيعات |
| `SalesReturn` | Aggregate Root | مردود المبيعات |

## القواعد (Invariants)

- الفاتورة يجب أن تحتوي سطرًا واحدًا على الأقل.
- مجموع الفاتورة يجب أن يتوافق مع سطورها.
- المردود يجب أن يرتبط بفاتورة أصلية.

## أحداث النطاق (Domain Events)

> سيتم تعريفها عند التنفيذ.

## حالات الاستخدام

> من شجرة الوظائف:

| العملية | الوصف |
| --- | --- |
| فاتورة مبيعات | إصدار فاتورة بيع للعميل |
| مردود مبيعات | تسجيل مردود على فاتورة سابقة |

## الاعتماديات

- تعتمد على وحدة الحسابات لتوليد القيود المحاسبية.
- تعتمد على وحدة المخزون لتحديث الأرصدة.
