# المخزون (Inventory)

## الوصف العام

وحدة المخزون تغطي إدارة المخازن والأصناف وحركات المخزون: توريد، صرف، تحويل، تسوية، وجرد. تتضمن إعداد وحدات القياس، مستويات التسعيرة، والمخزون الافتتاحي.

## الموقع في الكود

غير منفّذ حاليًا.

```
src/ERP.Domain/Inventory/          (مخطط)
src/ERP.Application/Inventory/     (مخطط)
```

## الكيانات والـ Value Objects

| العنصر | النوع | الوصف |
| --- | --- | --- |
| `Warehouse` | Aggregate Root | المخزن |
| `Item` | Aggregate Root | الصنف |
| `StockMovement` | Entity | حركة مخزنية |
| `StockAdjustment` | Entity | تسوية مخزون |

## القواعد (Invariants)

- لا يمكن صرف كمية أكبر من الرصيد المتاح.
- التحويل بين المخازن يتطلب استلامًا مطابقًا.
- التسوية تُعدّل الرصيد مع توثيق السبب.
- الجرد يُطابق الأرصدة الفعلية مع الدفترية.

## أحداث النطاق (Domain Events)

لا يوجد حاليًا.

## حالات الاستخدام

> من شجرة الوظائف:

| العملية | الوصف |
| --- | --- |
| أمر توريد مخزني | استلام أصناف في المخزن |
| أمر صرف مخزني | صرف أصناف من المخزن |
| تحويل مخزني | نقل أصناف بين المخازن |
| استلام تحويل | تأكيد استلام التحويل |
| تسوية مخزون | تعديل أرصدة المخزون |
| جرد المخزون | مطابقة الأرصدة الفعلية والدفترية |

## الاعتماديات

- تعتمد على وحدة الحسابات لربط المخزون بالأستاذ العام.
- تُستخدم من وحدتي المبيعات والمشتريات.

## Failure Modes

- الوحدة غير منفّذة بالكامل — الكيانات وأحداث النطاق وحالات الاستخدام مخطط لها ضمن التوسعات المستقبلية.

_Last Updated: 2026-02-10_
