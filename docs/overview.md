# نظرة عامة — ERP Solution

هذا المستودع عبارة عن حل (.NET 8) مبني بأسلوب **Clean Architecture** مع WinForms كواجهة مستخدم.

## هدف حل ERP

هدف هذا الحل هو بناء نظام ERP مكتبي (WinForms) قابل للتوسع والصيانة، يغطي دورة العمل الأساسية للشركات عبر وحدات مترابطة تشمل:

- **التهيئة**: إعداد متغيرات النظام، الفترات، العملات، الدول/المدن، بيانات الشركة والفروع، الدليل المحاسبي، مراكز التكلفة، وإعدادات المخزون/الموردين/العملاء.
- **المدخلات**: إدخال البيانات المرجعية (الموظفين، الصناديق والبنوك، الأرصدة الافتتاحية، الأصناف والمخازن، الموردين والعملاء…).
- **العمليات**: تنفيذ العمليات اليومية (قيود/سندات/إشعارات، أوامر توريد/صرف/تحويل، مشتريات/مبيعات، ترحيل/إقفال…).
- **التقارير**: تقارير الحسابات والمخزون والمشتريات والمبيعات.
- **إدارة النظام**: المستخدمون والصلاحيات والنسخ الاحتياطي/الاسترجاع.

## شجرة الوظائف (Functional Map)

> ملاحظة: هذه الشجرة تُستخدم كمرجع نطاق (Scope) للمنتج. التنفيذ الحالي قد يغطي جزءًا منها ويتوسع تدريجيًا.

```
ERP
│
├─ التهيئة
│  │
│  ├─ تهيئة النظام
│  │  ├─ المتغيرات العامة
│  │  ├─ فترات النظام
│  │  ├─ العملات
│  │  │  ├─ تهيئة العملات
│  │  │  └─ إضافة عملة أجنبية
│  │  ├─ صلاحية المخزون
│  │  ├─ الأقاليم والدول
│  │  │  ├─ الدول
│  │  │  ├─ المحافظات
│  │  │  ├─ المدن
│  │  │  └─ المناطق
│  │  ├─ بيانات الشركة
│  │  ├─ بيانات الفروع
│  │  ├─ الدليل المحاسبي
│  │  └─ مراكز التكلفة
│  │
│  ├─ تهيئة أنظمة الحسابات
│  │  └─ متغيرات الأستاذ العام
│  │
│  ├─ تهيئة أنظمة المخازن
│  │  ├─ متغيرات المخزون
│  │  ├─ وحدات القياس
│  │  ├─ مستويات التسعيرة
│  │  ├─ أنواع التوريد
│  │  ├─ أنواع الصرف
│  │  └─ أنواع التحويل
│  │
│  ├─ تهيئة أنظمة الموردين
│  │  ├─ متغيرات الموردين
│  │  ├─ تهيئة المشتريات
│  │  └─ طرق التكاليف
│  │
│  └─ تهيئة نظام العملاء
│     └─ متغيرات العملاء
│
├─ المدخلات
│  │
│  ├─ مدخلات النظام
│  │  ├─ الهيكل الإداري
│  │  ├─ بيانات الموظفين
│  │  ├─ الحسابات الوسيطة
│  │  └─ مراكز التكلفة
│  │
│  ├─ مدخلات الحسابات
│  │  ├─ الصناديق
│  │  ├─ البنوك
│  │  └─ الأرصدة الافتتاحية (حسابات)
│  │
│  ├─ مدخلات المخازن
│  │  ├─ المجموعات الرئيسية
│  │  ├─ مجموعات المخازن
│  │  ├─ المخازن
│  │  ├─ الأرفف
│  │  ├─ الأصناف
│  │  ├─ ملحقات الأصناف
│  │  ├─ الأصناف المركبة
│  │  ├─ تسعيرة الأصناف
│  │  ├─ المخزون الافتتاحي
│  │  └─ ربط المخزون بالأستاذ العام
│  │
│  ├─ مدخلات الموردين
│  │  ├─ مجموعات الموردين
│  │  └─ الموردين
│  │
│  └─ مدخلات العملاء
│     ├─ مجموعات العملاء
│     └─ العملاء
│
├─ العمليات
│  │
│  ├─ عمليات الحسابات
│  │  ├─ سند صرف نقدي
│  │  ├─ سند صرف شيك
│  │  ├─ سند قبض نقدي
│  │  ├─ سند قبض شيك
│  │  ├─ القيود اليومية
│  │  ├─ طلب قيد يومية
│  │  ├─ إشعار مدين
│  │  ├─ إشعار دائن
│  │  └─ صرف عملة
│  │
│  ├─ عمليات المخزون
│  │  ├─ أمر توريد مخزني
│  │  ├─ أمر صرف مخزني
│  │  ├─ تحويل مخزني
│  │  ├─ استلام تحويل
│  │  ├─ تسوية مخزون
│  │  └─ جرد المخزون
│  │
│  ├─ إدارة المشتريات
│  │  ├─ فاتورة مشتريات محلية
│  │  ├─ فاتورة مشتريات خارجية
│  │  ├─ أوامر الشراء
│  │  ├─ مرتجع مشتريات
│  │  └─ اعتماد مستندي
│  │
│  ├─ إدارة المبيعات
│  │  ├─ فاتورة مبيعات
│  │  └─ مردود مبيعات
│  │
│  └─ المراجعة والترحيلات
│     ├─ اعتماد الوثائق
│     ├─ الترحيل
│     ├─ إلغاء الترحيل
│     └─ الإقفال الشهري
│
├─ التقارير
│  ├─ تقارير الحسابات
│  │  ├─ الأستاذ العام
│  │  └─ ميزان المراجعة
│  ├─ تقارير المخزون
│  ├─ تقارير المشتريات
│  └─ تقارير المبيعات
│
└─ إدارة النظام
   ├─ المستخدمون
   ├─ الصلاحيات
   │  ├─ صلاحيات الشاشات
   │  └─ صلاحيات العمليات
   ├─ تغيير كلمة المرور
   ├─ النسخ الاحتياطي
   └─ استرجاع نسخة احتياطية
```

## Quick Start

المتطلبات: .NET SDK 8

### Build

```bash
dotnet build -c Release
```

### Run

نقطة التشغيل المفضلة (Composition Root):

```bash
dotnet run --project src/ERP.Bootstrapper
```

### Test

```bash
dotnet test -c Release
```

_Last Updated: 2026-02-10_
