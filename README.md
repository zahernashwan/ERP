<!-- AUTO-GENERATED โ do not edit manually. Run scripts/generate-readme.sh -->

# NoufexERP Documentation

## Table of Contents

- [ูุธุฑุฉ ุนุงูุฉ โ NoufexERP Solution](docs/overview.md)
- [ุงูุจููุฉ ุงููุนูุงุฑูุฉ โ Clean Architecture + DDD + CQRS](docs/architecture.md)
- [ุงูููุงุนุฏ ุงููุนูุงุฑูุฉ โ Architecture Rules](docs/ARCHITECTURE_RULES.md)
- [ุฏููู ุงูุชุทููุฑ โ Development Guide](docs/development-guide.md)
- [ุงูุชูุตูุงุช ุงูุญุฑุฌุฉ โ Critical Recommendations](docs/critical-recommendations.md)
- [ุฎุฑูุทุฉ ุงูุชูุซูู (Documentation Map)](docs/documentation-map.md)

### ุงููุดุงุฑูุน (Projects)

- [ุทุจูุฉ ุงูุชุทุจูู (Application Layer)](docs/projects/Application.md)
- [ููุทุฉ ุงูุชุดุบูู (Bootstrapper โ Composition Root)](docs/projects/Bootstrapper.md)
- [ุทุจูุฉ ุงููุทุงู (Domain Layer)](docs/projects/Domain.md)
- [ุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ (Infrastructure Layer)](docs/projects/Infrastructure.md)
- [ุทุจูุฉ ุงูุนุฑุถ โ WinForms (Presentation Layer)](docs/projects/WinForms.md)

### ุงููุญุฏุงุช (Modules)

- [ุงูุญุณุงุจุงุช (Account)](docs/modules/Account.md)
- [ุงูุฏููู ุงููุญุงุณุจู (Chart of Accounts)](docs/modules/ChartOfAccounts.md)
- [ูุฑุงูุฒ ุงูุชูููุฉ (Cost Centers)](docs/modules/CostCenters.md)
- [ุงููุฎุฒูู (Inventory)](docs/modules/Inventory.md)
- [ุงููููุฏ ุงูููููุฉ (Journal)](docs/modules/Journal.md)
- [ุฏูุชุฑ ุงูุฃุณุชุงุฐ (Ledger)](docs/modules/Ledger.md)
- [ุงููุดุชุฑูุงุช (Purchases)](docs/modules/Purchases.md)
- [ุงููุจูุนุงุช (Sales)](docs/modules/Sales.md)

### ููุงููู ุทุจูุฉ ุงููุทุงู (Domain Concepts)

- [Aggregates (ุงูููุงูุงุช ุงููุฌููุนุฉ)](docs/domain/aggregates.md)
- [Domain Events (ุฃุญุฏุงุซ ุงููุทุงู)](docs/domain/domain-events.md)
- [Invariants โ ุงููููุฏ ุงูุฌููุฑูุฉ](docs/domain/invariants.md)

### ููุงููู ุทุจูุฉ ุงูุชุทุจูู (Application Concepts)

- [Commands (ุงูุฃูุงูุฑ)](docs/application/commands.md)
- [Queries (ุงูุงุณุชุนูุงูุงุช)](docs/application/queries.md)
- [Use Cases โ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู](docs/application/use-cases.md)

### ููุงููู ุงูุจููุฉ ุงูุชุญุชูุฉ (Infrastructure Concepts)

- [Integrations โ ุงูุชูุงููุงุช ุงูุฎุงุฑุฌูุฉ](docs/infrastructure/integrations.md)
- [Persistence โ ุงูุชุฎุฒูู](docs/infrastructure/persistence.md)

---

# ูุธุฑุฉ ุนุงูุฉ โ NoufexERP Solution

![.NET](https://img.shields.io/badge/.NET-8.0-purple.svg)
![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Architecture](https://img.shields.io/badge/Architecture-Clean-brightgreen.svg)
![Design](https://img.shields.io/badge/Design-Domain%20Driven-blue.svg)
![CQRS](https://img.shields.io/badge/Pattern-CQRS-orange.svg)

ูุฐุง ุงููุณุชูุฏุน ุนุจุงุฑุฉ ุนู ุญู **.NET 8** ูุจูู ุจุฃุณููุจ **Clean Architecture** ูุน **Domain-Driven Design (DDD)** ูููุท **CQRS** ุนุจุฑ MediatRุ ููุงุฌูุฉ ูุณุชุฎุฏู WinForms.

## ูุฏู ุญู ERP

ูุฏู ูุฐุง ุงูุญู ูู ุจูุงุก ูุธุงู ERP ููุชุจู (WinForms) ูุงุจู ููุชูุณุน ูุงูุตูุงูุฉุ ูุบุทู ุฏูุฑุฉ ุงูุนูู ุงูุฃุณุงุณูุฉ ููุดุฑูุงุช ุนุจุฑ ูุญุฏุงุช ูุฌุงู ุฃุนูุงู ูุชุฑุงุจุทุฉ ุชุดูู:

- **ุงููุฑุฌุน ุงููุคุณุณู (Enterprise Reference / Shared Kernel)**: ุงููุชุบูุฑุงุช ุงูุนุงูุฉุ ุงููุชุฑุงุชุ ุงูุนููุงุชุ ุงูุฃูุงููู ูุงูุฏููุ ุจูุงูุงุช ุงูุดุฑูุฉ ูุงููุฑูุน.
- **ุงููุญุงุณุจุฉ ุงููุงููุฉ (Financial Accounting โ FI/GL)**: ุงูุชููุฆุฉ ุงููุญุงุณุจูุฉุ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉุ ุงููููุฏ ูุงูุณูุฏุงุชุ ุงููุฑุงุฌุนุฉ ูุงูุฅููุงูุ ูุชูุงุฑูุฑ ุงูุฃุณุชุงุฐ ูููุฒุงู ุงููุฑุงุฌุนุฉ.
- **ุฅุฏุงุฑุฉ ุงููุฎุฒูู (Inventory Management โ IM)**: ุชููุฆุฉ ุงููุฎุฒููุ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ููุตูู/ุงููุฎุฒูุ ุนูููุงุช ุงูุชูุฑูุฏ/ุงูุตุฑู/ุงูุชุญููู/ุงูุฌุฑุฏุ ูุชูุงุฑูุฑ ุงููุฎุฒูู.
- **ุงูููุฑุฏูู ูุงููุดุชุฑูุงุช (Procurement & Accounts Payable โ MM/AP)**: ุงูููุฑุฏููุ ุฃูุงูุฑ ุงูุดุฑุงุกุ ููุงุชูุฑ ููุฑุฏูุฏ ุงููุดุชุฑูุงุชุ ูุชูุงุฑูุฑ ุงููุดุชุฑูุงุช.
- **ุงูุนููุงุก ูุงููุจูุนุงุช (Sales & Accounts Receivable โ SD/AR)**: ุงูุนููุงุกุ ููุงุชูุฑ ููุฑุฏูุฏ ุงููุจูุนุงุชุ ูุชูุงุฑูุฑ ุงููุจูุนุงุช.
- **ุงูููุงุฑุฏ ุงูุฅุฏุงุฑูุฉ ูุงูุชูุธูููุฉ (Organizational & Administrative Data)**: ุงููููู ุงูุฅุฏุงุฑู ูุจูุงูุงุช ุงูููุธููู.
- **ุฅุฏุงุฑุฉ ุงููุธุงู ูุงูุฃูู (System Administration & Security)**: ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช ููููุงุช ุงููุฑูุฑ ูุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุงุณุชุฑุฌุงุน.

## โจ ุฃุจุฑุฒ ุงููุฒุงูุง โ Key Highlights

- ๐๏ธ **Clean Architecture**: ูุตู ูุงุถุญ ุจุฃุฑุจุน ุทุจูุงุช ูุงุชุฌุงู ุงุนุชูุงุฏุงุช ุตุงุฑู ูุญู ุงูุฏุงุฎู
- ๐ฏ **Domain-Driven Design**: ูููุฐุฌ ุฃุนูุงู ุบูู ุจุงูู Aggregates ูValue Objects ูDomain Events
- ๐ **CQRS Pattern**: ูุตู ูุงูู ุจูู Commands ูQueries ุนุจุฑ MediatR
- ๐ช **Repository & Unit of Work**: ุฃููุงุท ูุตูู ุจูุงูุงุช ุนูู ูุณุชูู ุงููุคุณุณุงุช
- ๐งช **ุจููุฉ ุงุฎุชุจุงุฑุงุช ุดุงููุฉ**: ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ ูุชุทุจูู ูุญุฑุงุณุฉ ูุนูุงุฑูุฉ ุจู xUnit
- ๐ก๏ธ **ุญุฑุงุณุฉ ูุนูุงุฑูุฉ ุขููุฉ**: CI Gate ูุฑูุถ ุชููุงุฆูุงู ุฃู PR ูุฎุงูู ุงูููุงุนุฏ ุงููุนูุงุฑูุฉ
- ๐ **ุชูุซูู ุดุงูู ุซูุงุฆู ุงููุบุฉ**: ุชูุซูู ุนุฑุจู/ุฅูุฌููุฒู ููููููุฏ ุชููุงุฆูุงู

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ โ Technologies

### Backend

| ุงูุชูููุฉ | ุงููุตู |
| --- | --- |
| **.NET 8** | ุฅุทุงุฑ ุงูุนูู ุงูุฑุฆูุณู |
| **MediatR** | ุชูููุฐ ููุท Mediator ูู CQRS |
| **xUnit** | ุฅุทุงุฑ ุงูุงุฎุชุจุงุฑุงุช |
| **Microsoft.Extensions.DependencyInjection** | ุญูู ุงูุงุนุชูุงุฏุงุช |

### ูุงุฌูุฉ ุงููุณุชุฎุฏู

| ุงูุชูููุฉ | ุงููุตู |
| --- | --- |
| **WinForms (.NET 8)** | ูุงุฌูุฉ ูุณุชุฎุฏู ููุชุจูุฉ |
| **Supervising Controller** | ููุท ูุตู ุงูุนุฑุถ ุนู ุงูููุทู |

### ุงูุชุฎุฒูู (ุงูุญุงูู ูุงููุฎุทุท)

| ุงูุชูููุฉ | ุงูุญุงูุฉ | ุงููุตู |
| --- | --- | --- |
| **In-Memory Repositories** | โ ุญุงูู | ุชุฎุฒูู ูุคูุช ููุชุทููุฑ ูุงูุงุฎุชุจุงุฑ |
| **Entity Framework Core + SQL Server** | ๐ ูุฎุทุท | ุชุฎุฒูู ุฏุงุฆู ููุฅูุชุงุฌ |

### ุฃุฏูุงุช ุงูุชุทููุฑ ูุงูู DevOps

| ุงูุฃุฏุงุฉ | ุงููุตู |
| --- | --- |
| **GitHub Actions** | CI/CD โ ุจูุงุจุฉ ูุนูุงุฑูุฉ ููุญุต ุชูุซูู |
| **Docker** | ุญุงููุงุช ููุจูุงุก ูุงูุงุฎุชุจุงุฑ |
| **scripts/check-architecture.sh** | ูุญุต ุงูููุงุนุฏ ุงููุนูุงุฑูุฉ ูุญููุงู ููู CI |
| **scripts/generate-readme.sh** | ุชูููุฏ README.md ุชููุงุฆูุงู ูู ูููุงุช docs/ |

## ุดุฌุฑุฉ ุงููุธุงุฆู (Functional Map)

> ููุงุญุธุฉ: ูุฐู ุงูุดุฌุฑุฉ ุชูุณุชุฎุฏู ููุฑุฌุน ูุทุงู (Scope) ููููุชุฌ. ุงูุชูููุฐ ุงูุญุงูู ูุฏ ูุบุทู ุฌุฒุกูุง ูููุง ููุชูุณุน ุชุฏุฑูุฌููุง.

```
ERP
โ
โโ ุงููุฑุฌุน ุงููุคุณุณู (Enterprise Reference / Shared Kernel)
โ  โโ ุงููุชุบูุฑุงุช ุงูุนุงูุฉ
โ  โโ ูุชุฑุงุช ุงููุธุงู
โ  โโ ุงูุนููุงุช
โ  โ  โโ ุชููุฆุฉ ุงูุนููุงุช
โ  โ  โโ ุฅุถุงูุฉ ุนููุฉ ุฃุฌูุจูุฉ
โ  โโ ุงูุฃูุงููู ูุงูุฏูู
โ  โ  โโ ุงูุฏูู
โ  โ  โโ ุงููุญุงูุธุงุช
โ  โ  โโ ุงููุฏู
โ  โ  โโ ุงูููุงุทู
โ  โโ ุจูุงูุงุช ุงูุดุฑูุฉ
โ  โโ ุจูุงูุงุช ุงููุฑูุน
โ
โโ ุงููุญุงุณุจุฉ ุงููุงููุฉ (Financial Accounting โ FI/GL)
โ  โโ ุงูุชููุฆุฉ
โ  โ  โโ ูุชุบูุฑุงุช ุงูุฃุณุชุงุฐ ุงูุนุงู
โ  โ  โโ ุงูุฏููู ุงููุญุงุณุจู
โ  โ  โโ ูุฑุงูุฒ ุงูุชูููุฉ
โ  โ  โโ ุงูุญุณุงุจุงุช ุงููุณูุทุฉ
โ  โโ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
โ  โ  โโ ุงูุตูุงุฏูู
โ  โ  โโ ุงูุจููู
โ  โ  โโ ุงูุฃุฑุตุฏุฉ ุงูุงูุชุชุงุญูุฉ (ุญุณุงุจุงุช)
โ  โโ ุงูุนูููุงุช
โ  โ  โโ ุณูุฏ ุตุฑู ููุฏู
โ  โ  โโ ุณูุฏ ุตุฑู ุดูู
โ  โ  โโ ุณูุฏ ูุจุถ ููุฏู
โ  โ  โโ ุณูุฏ ูุจุถ ุดูู
โ  โ  โโ ุงููููุฏ ุงูููููุฉ
โ  โ  โโ ุทูุจ ููุฏ ููููุฉ
โ  โ  โโ ุฅุดุนุงุฑ ูุฏูู
โ  โ  โโ ุฅุดุนุงุฑ ุฏุงุฆู
โ  โ  โโ ุตุฑู ุนููุฉ
โ  โโ ุงููุฑุงุฌุนุฉ ูุงูุฅููุงู
โ  โ  โโ ุงุนุชูุงุฏ ุงููุซุงุฆู
โ  โ  โโ ุงูุชุฑุญูู
โ  โ  โโ ุฅูุบุงุก ุงูุชุฑุญูู
โ  โ  โโ ุงูุฅููุงู ุงูุดูุฑู
โ  โโ ุงูุชูุงุฑูุฑ
โ     โโ ุงูุฃุณุชุงุฐ ุงูุนุงู
โ     โโ ููุฒุงู ุงููุฑุงุฌุนุฉ
โ
โโ ุฅุฏุงุฑุฉ ุงููุฎุฒูู (Inventory Management โ IM)
โ  โโ ุงูุชููุฆุฉ
โ  โ  โโ ูุชุบูุฑุงุช ุงููุฎุฒูู
โ  โ  โโ ูุญุฏุงุช ุงูููุงุณ
โ  โ  โโ ูุณุชููุงุช ุงูุชุณุนูุฑุฉ
โ  โ  โโ ุฃููุงุน ุงูุชูุฑูุฏ
โ  โ  โโ ุฃููุงุน ุงูุตุฑู
โ  โ  โโ ุฃููุงุน ุงูุชุญููู
โ  โ  โโ ุตูุงุญูุฉ ุงููุฎุฒูู
โ  โโ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
โ  โ  โโ ุงููุฌููุนุงุช ุงูุฑุฆูุณูุฉ
โ  โ  โโ ูุฌููุนุงุช ุงููุฎุงุฒู
โ  โ  โโ ุงููุฎุงุฒู
โ  โ  โโ ุงูุฃุฑูู
โ  โ  โโ ุงูุฃุตูุงู
โ  โ  โโ ููุญูุงุช ุงูุฃุตูุงู
โ  โ  โโ ุงูุฃุตูุงู ุงููุฑูุจุฉ
โ  โ  โโ ุชุณุนูุฑุฉ ุงูุฃุตูุงู
โ  โ  โโ ุงููุฎุฒูู ุงูุงูุชุชุงุญู
โ  โโ ุงูุชูุงูู
โ  โ  โโ ุฑุจุท ุงููุฎุฒูู ุจุงูุฃุณุชุงุฐ ุงูุนุงู
โ  โโ ุงูุนูููุงุช
โ  โ  โโ ุฃูุฑ ุชูุฑูุฏ ูุฎุฒูู
โ  โ  โโ ุฃูุฑ ุตุฑู ูุฎุฒูู
โ  โ  โโ ุชุญููู ูุฎุฒูู
โ  โ  โโ ุงุณุชูุงู ุชุญููู
โ  โ  โโ ุชุณููุฉ ูุฎุฒูู
โ  โ  โโ ุฌุฑุฏ ุงููุฎุฒูู
โ  โโ ุงูุชูุงุฑูุฑ
โ     โโ ุชูุงุฑูุฑ ุงููุฎุฒูู
โ
โโ ุฅุฏุงุฑุฉ ุงูููุฑุฏูู ูุงููุดุชุฑูุงุช (Procurement & Accounts Payable โ MM/AP)
โ  โโ ุงูุชููุฆุฉ
โ  โ  โโ ูุชุบูุฑุงุช ุงูููุฑุฏูู
โ  โ  โโ ุชููุฆุฉ ุงููุดุชุฑูุงุช
โ  โ  โโ ุทุฑู ุงูุชูุงููู
โ  โโ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
โ  โ  โโ ูุฌููุนุงุช ุงูููุฑุฏูู
โ  โ  โโ ุงูููุฑุฏูู
โ  โโ ุงูุนูููุงุช
โ  โ  โโ ุฃูุงูุฑ ุงูุดุฑุงุก
โ  โ  โโ ูุงุชูุฑุฉ ูุดุชุฑูุงุช ูุญููุฉ
โ  โ  โโ ูุงุชูุฑุฉ ูุดุชุฑูุงุช ุฎุงุฑุฌูุฉ
โ  โ  โโ ูุฑุชุฌุน ูุดุชุฑูุงุช
โ  โ  โโ ุงุนุชูุงุฏ ูุณุชูุฏู
โ  โโ ุงูุชูุงุฑูุฑ
โ     โโ ุชูุงุฑูุฑ ุงููุดุชุฑูุงุช
โ
โโ ุฅุฏุงุฑุฉ ุงูุนููุงุก ูุงููุจูุนุงุช (Sales & Accounts Receivable โ SD/AR)
โ  โโ ุงูุชููุฆุฉ
โ  โ  โโ ูุชุบูุฑุงุช ุงูุนููุงุก
โ  โโ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
โ  โ  โโ ูุฌููุนุงุช ุงูุนููุงุก
โ  โ  โโ ุงูุนููุงุก
โ  โโ ุงูุนูููุงุช
โ  โ  โโ ูุงุชูุฑุฉ ูุจูุนุงุช
โ  โ  โโ ูุฑุฏูุฏ ูุจูุนุงุช
โ  โโ ุงูุชูุงุฑูุฑ
โ     โโ ุชูุงุฑูุฑ ุงููุจูุนุงุช
โ
โโ ุงูููุงุฑุฏ ุงูุฅุฏุงุฑูุฉ ูุงูุชูุธูููุฉ (Organizational & Administrative Data)
โ  โโ ุงููููู ุงูุฅุฏุงุฑู
โ  โโ ุจูุงูุงุช ุงูููุธููู
โ
โโ ุฅุฏุงุฑุฉ ุงููุธุงู ูุงูุฃูู (System Administration & Security)
   โโ ุงููุณุชุฎุฏููู
   โโ ุงูุตูุงุญูุงุช
   โ  โโ ุตูุงุญูุงุช ุงูุดุงุดุงุช
   โ  โโ ุตูุงุญูุงุช ุงูุนูููุงุช
   โโ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
   โโ ุงููุณุฎ ุงูุงุญุชูุงุทู
   โโ ุงุณุชุฑุฌุงุน ูุณุฎุฉ ุงุญุชูุงุทูุฉ
```

## โ ุงูุงุนุชูุงุฏ ุงูุฃูุงุฏููู โ Academic Validation

| ูุนูุงุฑ | ุงููุชูุฌุฉ |
| --- | --- |
| ุงูุชูุณูู ุญุณุจ Domain | โ๏ธ |
| ูุงุจููุฉ ุงูุชูุณุน ุงููุคุณุณู | โ๏ธ |
| ุชูุงูู ููุทู ูุน ERP ุงููุคุณุณู (SAP/Oracle Style) | โ๏ธ |
| ููุงุกูุฉ Modular Monolith | โ๏ธ |
| ุชูุงูู Clean Architecture | โ๏ธ |
| ููุน ุชุฏุงุฎู ุงููุณุคูููุงุช | โ๏ธ |

> ุชู ุงุนุชูุงุฏ ุฅุนุงุฏุฉ ุงูููููุฉ ุงูุชูุซูููุฉ ููู ูุฏุฑุงุช ุงูุฃุนูุงู (Business Capabilities) ููุถุน ูุฑุฌุนู ูุนุชูุฏ ููุชุทููุฑ ูุงูุชูุณุน.

## ๐ฏ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ โ Key Features

### ุงููุญุฏุงุช ุงูุชุฌุงุฑูุฉ ุงูููููุฐุฉ (3 Aggregates)

- โ **ุงูุฏููู ุงููุญุงุณุจู (ChartOfAccounts)** โ ูุชุญ ุฏูููุ ุชุณุฌูู ุญุณุงุจุงุชุ ุชุนุทูู ุญุณุงุจ
- โ **ุงููููุฏ ุงูููููุฉ (Journal)** โ ุฅูุดุงุก ููุฏุ ุฅุถุงูุฉ ุจููุฏ ูุฏูู/ุฏุงุฆูุ ุชุฑุญูู ุงูููุฏ
- โ **ุฏูุชุฑ ุงูุฃุณุชุงุฐ (Ledger)** โ ูุชุญ ุฏูุชุฑุ ุชุณุฌูู ูููุฏุ ุฅููุงู ุงููุชุฑุฉ

### ุฃููุงุท ุงูุชุตููู ุงููุทุจููุฉ

- ๐ **CQRS** โ Commands ุชูุบููุฑ ุงูุญุงูุฉุ Queries ุชูุฑุฃ ููุท
- ๐ช **Repository Pattern** โ ูุงุฌูุงุช ูู Applicationุ ุชูููุฐ ูู Infrastructure
- ๐ **Unit of Work** โ ุญุฏูุฏ ูุนุงููุงุช ูุงุถุญุฉ
- ๐ฏ **Mediator (MediatR)** โ ูุตู ุจูู ุทุงูุจ ุงูุนูููุฉ ูููููุฐูุง
- ๐ข **Domain Events** โ ุฃุญุฏุงุซ ุฃุนูุงู ูุซู `JournalPosted`ุ `AccountRegistered`

### ุงูุจููุฉ ุงูุชุญุชูุฉ ููุงุฎุชุจุงุฑุงุช

| ุงููุดุฑูุน | ุนุฏุฏ ุงูุงุฎุชุจุงุฑุงุช | ูุงุฐุง ูุฎุชุจุฑุ |
| --- | --- | --- |
| `ERP.Domain.Tests` | ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ | ุณููู ุงูู Aggregates ูุงูู invariants |
| `ERP.Application.Tests` | 16 ุงุฎุชุจุงุฑ | ุฌููุน Handlers (Commands + Queries) |
| `ERP.ArchitectureGuard` | ุญุฑุงุณุฉ ูุนูุงุฑูุฉ | ุญุฏูุฏ ุงูุงุนุชูุงุฏุงุช ุจูู ุงูุทุจูุงุช |

### ุจูุงุจุฉ CI ุงููุนูุงุฑูุฉ

- ๐ซ **ุฑูุถ ุชููุงุฆู** ูุฃู PR ูุฎุงูู ุงูููุงุนุฏ ุงููุนูุงุฑูุฉ
- โ ูุญุต ุงุชุฌุงู ุงูุงุนุชูุงุฏุงุช (R-DEP-01 ุฅูู R-DEP-05)
- โ ูุญุต ุนุฒู ุงูุทุจูุงุช (R-DOM-09ุ R-APP-09)
- โ ูุญุต ุชุญุฏูุซ ุงูุชูุซูู (R-DOC-04)

## ๐ ูุชุทูุจุงุช ุงููุธุงู โ System Requirements

- **.NET 8 SDK** ุฃู ุฃุญุฏุซ
- **Visual Studio 2022** ุฃู **VS Code** ูุน ุฅุถุงูุฉ C#
- **Git** ููุชุญูู ุจุงูุฅุตุฏุงุฑุงุช
- **Docker** (ุงุฎุชูุงุฑู โ ููุจูุงุก ูุงูุงุฎุชุจุงุฑ ูู ุญุงููุฉ)

## ๐ Quick Start

```bash
# ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน
git clone https://github.com/zahernashwan/ERP.git
cd ERP

# ุงุณุชุนุงุฏุฉ ุงูุญุฒู
dotnet restore

# ุงูุจูุงุก
dotnet build -c Release

# ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
dotnet test -c Release

# ุชุดุบูู ุงูุชุทุจูู (Composition Root)
dotnet run --project src/ERP.Bootstrapper

# ุฃู ุจุงุณุชุฎุฏุงู Docker
docker compose up --build
```

### ูุญุต ุงูููุงุนุฏ ุงููุนูุงุฑูุฉ ูุญููุงู

```bash
bash scripts/check-architecture.sh
```

## ๐ ุญุงูุฉ ุงูุชูููุฐ โ Implementation Status

| ุงูููููู | ุงูุญุงูุฉ | ุงูุชูุงุตูู |
| --- | --- | --- |
| **Clean Architecture** | โ ููุชูู | 4 ุทุจูุงุช + Bootstrapper ูุน CI Gate |
| **DDD โ Aggregates** | โ ููุชูู | ChartOfAccountsุ Journalุ Ledger |
| **CQRS + MediatR** | โ ููุชูู | Commands ูQueries ูุฌููุน ุงููุญุฏุงุช |
| **Repository + UoW** | โ ููุชูู | ูุงุฌูุงุช + ุชูููุฐ InMemory |
| **ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ ูุชุทุจูู** | โ ููุชูู | 16+ ุงุฎุชุจุงุฑ ูุงุฌุญ |
| **ุญุฑุงุณุฉ ูุนูุงุฑูุฉ** | โ ููุชูู | CI Gate + ArchitectureGuard |
| **ุชูุซูู ุดุงูู** | โ ููุชูู | ุนุฑุจู/ุฅูุฌููุฒู ููููููุฏ ุชููุงุฆูุงู |
| **ุชุฎุฒูู ุฏุงุฆู (EF Core)** | ๐ ูุฎุทุท | ุงูุงูุชูุงู ูู InMemory ุฅูู SQL Server |
| **ูุนุงูุฌุฉ ุฃุญุฏุงุซ ุงููุทุงู** | ๐ ูุฎุทุท | ูุดุฑ ููุนุงูุฌุฉ Domain Events ุนุจุฑ MediatR |
| **ูุงุฌูุฉ Web API** | ๐ ูุฎุทุท | RESTful API ูุน Swagger |

_Last Updated: 2026-02-21_

---

# ุงูุจููุฉ ุงููุนูุงุฑูุฉ โ Clean Architecture + DDD + CQRS

> ๐ `docs/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](documentation-map.md)

ูุฐุง ุงูุญู ูุชุจุน **Clean Architecture** ุจุดูู ุตุงุฑูุ ูููุณู ุงููุธุงู ุฅูู ุฃุฑุจุน ุทุจูุงุช ูุงุถุญุฉ. ูู ุทุจูุฉ ููุง ูุณุคูููุงุช ูุญุฏุฏุฉ ูุญุฏูุฏ ุตุงุฑูุฉุ ูุงุชุฌุงู ุงูุงุนุชูุงุฏุงุช ูููู ูุญู ุงูุฏุงุฎู ููุท.

## ๐ ูููู ุงููุดุฑูุน โ Project Structure

```
ERP/
โโโ src/
โ   โโโ ERP.Domain/                    # ๐ฏ ุทุจูุฉ ุงููุทุงู โ ุงูููุงุนุฏ ุงูุชุฌุงุฑูุฉ
โ   โ   โโโ Accounting/
โ   โ   โ   โโโ Aggregates/            # ุงูููุงูุงุช ุงููุฌููุนุฉ
โ   โ   โ   โ   โโโ Accounts/          #   Account entity
โ   โ   โ   โ   โโโ ChartOfAccounts/   #   ChartOfAccounts aggregate root
โ   โ   โ   โ   โโโ Journals/          #   Journal + JournalLine aggregate
โ   โ   โ   โ   โโโ Ledgers/           #   Ledger aggregate root
โ   โ   โ   โโโ Events/                # ุฃุญุฏุงุซ ุงููุทุงู (JournalPosted, etc.)
โ   โ   โ   โโโ Exceptions/            # ุงุณุชุซูุงุกุงุช ุงูุฃุนูุงู ุงููุญุฏุฏุฉ
โ   โ   โ   โโโ ValueObjects/          # ูุงุฆูุงุช ุงููููุฉ (Money, AccountNumber, etc.)
โ   โ   โโโ Entity.cs                  # ุงูููุงู ุงูุฃุณุงุณู
โ   โ   โโโ ValueObject.cs             # ูุงุฆู ุงููููุฉ ุงูุฃุณุงุณู
โ   โ   โโโ DomainEvent.cs             # ุญุฏุซ ุงููุทุงู ุงูุฃุณุงุณู
โ   โ
โ   โโโ ERP.Application/               # ๐ ุทุจูุฉ ุงูุชุทุจูู โ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู CQRS
โ   โ   โโโ Accounting/
โ   โ   โ   โโโ ChartOfAccounts/       # Commands + Queries + Handlers + DTOs
โ   โ   โ   โโโ Journals/              # Commands + Queries + Handlers + DTOs
โ   โ   โ   โโโ Ledgers/               # Commands + Queries + Handlers + DTOs
โ   โ   โโโ ICommand.cs                # ูุงุฌูุฉ ุงูุฃูุงูุฑ
โ   โ   โโโ IQuery.cs                  # ูุงุฌูุฉ ุงูุงุณุชุนูุงูุงุช
โ   โ   โโโ IUnitOfWork.cs             # ูุงุฌูุฉ ูุญุฏุฉ ุงูุนูู
โ   โ   โโโ ApplicationModule.cs       # ุชุณุฌูู DI
โ   โ
โ   โโโ ERP.Infrastructure/            # โ๏ธ ุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ โ ุงูุชูููุฐุงุช ุงูุชูููุฉ
โ   โ   โโโ Persistence/
โ   โ   โ   โโโ Repositories/          # ุชูููุฐ ุงููุณุชูุฏุนุงุช (InMemory ุญุงููุงู)
โ   โ   โ   โโโ InMemoryUnitOfWork.cs  # ุชูููุฐ ูุญุฏุฉ ุงูุนูู
โ   โ   โโโ InfrastructureModule.cs    # ุชุณุฌูู DI
โ   โ
โ   โโโ ERP.Presentation.WinForms/     # ๐ฅ๏ธ ุทุจูุฉ ุงูุนุฑุถ โ ูุงุฌูุฉ ุงููุณุชุฎุฏู
โ   โ   โโโ Accounting/                # ููุงุฐุฌ ุงููุญุงุณุจุฉ
โ   โ   โโโ Navigation/                # ุงูุชููู
โ   โ   โโโ Shell/                     # ุงูุฅุทุงุฑ ุงูุฑุฆูุณู
โ   โ
โ   โโโ ERP.Bootstrapper/              # ๐ ููุทุฉ ุงูุชุดุบูู โ Composition Root
โ       โโโ ContainerConfiguration.cs  # ุชุฌููุน DI
โ       โโโ Program.cs                 # ููุทุฉ ุงูุฏุฎูู
โ
โโโ tests/
โ   โโโ ERP.Domain.Tests/              # ๐งช ุงุฎุชุจุงุฑุงุช ุงููุทุงู
โ   โโโ ERP.Application.Tests/         # ๐งช ุงุฎุชุจุงุฑุงุช ุงูุชุทุจูู (16 ุงุฎุชุจุงุฑ)
โ   โโโ ERP.ArchitectureGuard/         # ๐ก๏ธ ุญุฑุงุณุฉ ุงูุญุฏูุฏ ุงููุนูุงุฑูุฉ
โ
โโโ docs/                              # ๐ ุงูุชูุซูู ุงูุดุงูู
โโโ scripts/                           # ๐ง ุณูุฑุจุชุงุช CI ูุงูุชูููุฏ
โโโ Dockerfile                         # ๐ณ ุจูุงุก ูุงุฎุชุจุงุฑ ูู ุญุงููุฉ
โโโ docker-compose.yml                 # ๐ณ ุชุดุบูู ูุชุนุฏุฏ ุงูุญุงููุงุช
โโโ ERP.sln                            # ููู ุงูุญู
```

## ุฎุฑูุทุฉ ุงููุดุงุฑูุน (ุฃูู ุชุถุน ุงูููุฏุ)

| ุงููุดุฑูุน | ุงููุณุงุฑ | ูุงุฐุง ูุญุชููุ |
| --- | --- | --- |
| `ERP.Domain` | `src/ERP.Domain` | ูููุฐุฌ ุงูุฃุนูุงู: Aggregates/Entities/Value Objects/Domain Events + invariants |
| `ERP.Application` | `src/ERP.Application` | ุญุงูุงุช ุงูุงุณุชุฎุฏุงู (Use Cases) ุจุตูุบุฉ CQRS ุฎูููุฉ + ุญุฏูุฏ ุงููุนุงููุงุช (`IUnitOfWork`) + ูุงุฌูุงุช ุงููุณุชูุฏุนุงุช |
| `ERP.Infrastructure` | `src/ERP.Infrastructure` | ุชูููุฐุงุช ุชูููุฉ ููุงุฌูุงุช Application (ุญุงูููุง In-Memory) + ุชุณุฌูููุง ุจุงูู DI |
| `ERP.Presentation.WinForms` | `src/ERP.Presentation.WinForms` | ุงููุงุฌูุฉ WinForms (Forms + Controllers) ุจุฏูู ููุทู ุฃุนูุงู |
| `ERP.Bootstrapper` | `src/ERP.Bootstrapper` | ููุทุฉ ุงูุชุดุบูู/Composition Root: ุชุฌููุน ุงูุทุจูุงุช (DI) ุซู ุชุดุบูู `MainForm` |

## ุงุชุฌุงู ุงูุงุนุชูุงุฏุงุช (ุงููุณููุญ ููุท)

```
Presentation  -> Application -> Domain
Infrastructure -> Application -> Domain
```

ููุงุนุฏ ุณุฑูุนุฉ:
- `Domain` ูุง ูุนุชูุฏ ุนูู ุฃู ุทุจูุฉ.
- `Application` ูุนุชูุฏ ุนูู `Domain` ููุท ููุนุฑูู ูุงุฌูุงุช ุงูุจููุฉ ุงูุชุญุชูุฉ (ูุซู Repositories ู `IUnitOfWork`).
- `Infrastructure` ููููุฐ ูุฐู ุงููุงุฌูุงุช.
- `Presentation.WinForms` ูุชุนุงูู ูุน `Application` ุนุจุฑ Handlers/Use Casesุ ููุง ูุตู ููุจููุฉ ุงูุชุญุชูุฉ ูุจุงุดุฑุฉ.

## ุงูุทุจูุงุช ุงูุฃุฑุจุน

### 1) Domain (ERP.Domain)

**ุงููุณุคูููุงุช**
- ุชูุซูู ูููุฐุฌ ุงูุฃุนูุงู (Entities / Value Objects / Aggregates ุนูุฏ ุงูุญุงุฌุฉ).
- ูุฑุถ ุงูููุงุนุฏ ูุงููููุฏ ุงูุฌููุฑูุฉ ุฏุงุฎู ุญุฏูุฏ ุงูู Aggregate ููุท.
- ุฅุตุฏุงุฑ Domain Events ููุตู ุฃุญุฏุงุซ ุงูุฃุนูุงู ุฐุงุช ุงููุนูู.

**ุงูุญุฏูุฏ ุงูุตุงุฑูุฉ**
- ูุง ุฃุทุฑ ุนููุ ูุง ุจููุฉ ุชุญุชูุฉุ ูุง ูุงุฌูุงุช ูุณุชุฎุฏูุ ููุง ุชุฎุฒูู ุจูุงูุงุช.
- ูุง ูุญุชูู ุนูู ููุทู ุญุงูุงุช ุงุณุชุฎุฏุงู ุฃู ุชูุณูู ุนูููุงุช.

### 2) Application (ERP.Application)

**ุงููุณุคูููุงุช**
- ุชูุณูู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู (Use Cases) ูุญุฏูุฏ ุงููุนุงููุงุช.
- ุชุทุจูู CQRS ุฎููู: **Commands ุชูุบููุฑ ุงูุญุงูุฉ**ุ **Queries ูุง ุชูุบููุฑ ุงูุญุงูุฉ**.
- ุงูุญูุงุธ ุนูู ุงูุงุชุณุงู ุจูู ุงูู Aggregates ูุงุณุชููุงู Domain Events ูุชูุนูู ุณูุฑ ุงูุนูู.

**ุงูุญุฏูุฏ ุงูุตุงุฑูุฉ**
- ูุง ููุงุนุฏ ุฃุนูุงู ุฌููุฑูุฉ (ุชูุฌุฏ ูู Domain ููุท).
- ูุง ุชูููุฐุงุช ุชูููุฉ ุฃู ุชุนุงูู ูุจุงุดุฑ ูุน ุงูุจููุฉ ุงูุชุญุชูุฉ.

### 3) Infrastructure (ERP.Infrastructure)

**ุงููุณุคูููุงุช**
- ุชูููุฐ ุงูุชูุงุตูู ุงูุชูููุฉ: ููุงุนุฏ ุงูุจูุงูุงุชุ ุงูุฑุณุงุฆูุ ูุธุงู ุงููููุงุชุ ูุงูุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ.
- ุชูููุฑ ุชุทุจููุงุช ุงููุงุฌูุงุช (Interfaces) ุงููุนุฑูุฉ ูู ุงูุฏุงุฎู.

**ุงูุญุฏูุฏ ุงูุตุงุฑูุฉ**
- ูุง ููุทู ุฃุนูุงู ุฃู ููุงุนุฏ ูุทุงู.
- ุชุนุชูุฏ ููุฏุงุฎู ููุท ููููู ุงุณุชุจุฏุงููุง ุจุณูููุฉ.

### 4) Presentation (ERP.Presentation.WinForms)

**ุงููุณุคูููุงุช**
- ุนุฑุถ ุงูุจูุงูุงุช ูููุณุชุฎุฏู ุนุจุฑ WinForms.
- ุงุชุจุงุน Supervising Controller / Passive View.
- ุงูู Controllers ุชูุณู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ูุชุญุฏูุซ ุงูู Views.

**ุงูุญุฏูุฏ ุงูุตุงุฑูุฉ**
- ูุง ููุทู ุฃุนูุงูุ ูุง ููุงุนุฏ ูุทุงูุ ููุง ูุตูู ูุจุงุดุฑ ููุจููุฉ ุงูุชุญุชูุฉ.

## ููุทุฉ ุงูุชุดุบูู (Entrypoint)

ุงููุดุฑูุน ุงููุนุชูุฏ ููุชุดุบูู ูู `ERP.Bootstrapper` ูุฃูู ุงูู Composition Root.

```bash
dotnet run --project src/ERP.Bootstrapper
```

## ุงูุงุฎุชุจุงุฑุงุช

| ุงููุดุฑูุน | ูุงุฐุง ูุฎุชุจุฑุ |
| --- | --- |
| `tests/ERP.Domain.Tests` | ุณููู ุงูู Domain ูุงูู invariants |
| `tests/ERP.Application.Tests` | ุชูุณูู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู (handlers) ูุงูุชูุงูู ูุน ุงูู repositories/UnitOfWork |
| `tests/ERP.ArchitectureGuard` | ุญุฑุงุณุฉ ุงูุญุฏูุฏ ุงููุนูุงุฑูุฉ (ููุน ุงุนุชูุงุฏุงุช ุบูุฑ ูุณููุญุฉ ุจูู ุงูุทุจูุงุช) |

ุชุดุบูู ุงููู:

```bash
dotnet test -c Release
```

## ุฃููุงุท ุงูุชุตููู ุงููุทุจููุฉ โ Applied Design Patterns

### CQRS (Command Query Responsibility Segregation)

```
Command (ููุฉ ุชุบููุฑ) โ CommandHandler โ Aggregate (Domain) โ Repository.Save โ UnitOfWork.Commit
Query  (ุทูุจ ูุฑุงุกุฉ) โ QueryHandler  โ ReadRepository โ DTO
```

- **Commands**: `OpenChartCommand`, `PostJournalCommand`, `RegisterAccountCommand`, ...
- **Queries**: `GetChartByIdQuery`, `ListJournalsQuery`, `GetLedgerByIdQuery`, ...
- ูู Handler ูุนุงูุฌ Command ุฃู Query ูุงุญุฏ ููุท ุนุจุฑ MediatR

### Repository Pattern

```
Application ูุนุฑูู:  IChartOfAccountsRepository, IJournalRepository, ILedgerRepository
Infrastructure ููููุฐ: InMemoryChartOfAccountsRepository, InMemoryJournalRepository, ...
```

### Unit of Work

```
Handler ูุณุชุฏุนู:  repository.SaveAsync(aggregate)
                 unitOfWork.SaveChangesAsync()
```

### Domain Events

```
Aggregate ููุตุฏุฑ:  journal.Post() โ ูุฑูุน JournalPosted event
                  chart.RegisterAccount() โ ูุฑูุน AccountRegistered event
```

## ููุงุญุธุงุช ูุนูุงุฑูุฉ ุฃุณุงุณูุฉ

- ุงูููุงุนุฏ ุงูุชุฌุงุฑูุฉ ุฏุงุฆูุงู ูู Domain.
- ุงูุชุบููุฑุงุช ูู ุงูุจููุฉ ุงูุชุญุชูุฉ ุฃู ุงููุงุฌูุฉ ูุง ูุฌุจ ุฃู ุชุคุซุฑ ุนูู Domain.
- ูุชู ุญูู ุฌููุน ุงูุงุนุชูุงุฏุงุช ุตุฑุงุญุฉู ุฏูู Service Locators.
- ุฃู PR ูุฎุงูู ุงูููุงุนุฏ ุงููุนูุงุฑูุฉ ููุฑูุถ ุชููุงุฆูุงู ุนุจุฑ CI Gate.

> ๐ ููููุงุนุฏ ุงููุนูุงุฑูุฉ ุงูุชูุตูููุฉ ุฑุงุฌุน [`ARCHITECTURE_RULES.md`](ARCHITECTURE_RULES.md)

_Last Updated: 2026-02-21_

---

# ุงูููุงุนุฏ ุงููุนูุงุฑูุฉ โ Architecture Rules

> ๐ `docs/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](documentation-map.md)
>
> โ๏ธ ูุฐุง ุงูููู ูู **ุงููุฑุฌุน ุงูุญุงูู** ููุฑุงุฌุนุงุช PR. ุฃู ููุฏ ูุฎุงูู ูุฐู ุงูููุงุนุฏ ููุฑูุถ.

## 1. ุงุชุฌุงู ุงูุงุนุชูุงุฏุงุช (Dependency Direction)

```
Presentation  โ Application โ Domain
Infrastructure โ Application โ Domain
```

| ุงููุงุนุฏุฉ | ุงูุชูุตูู |
| --- | --- |
| **R-DEP-01** | `Domain` ูุง ูุนุชูุฏ ุนูู ุฃู ุทุจูุฉ ุฃุฎุฑู โ ูู ุงูุทุจูุฉ ุงูุฃุนูู |
| **R-DEP-02** | `Application` ูุนุชูุฏ ุนูู `Domain` ููุท |
| **R-DEP-03** | `Infrastructure` ูุนุชูุฏ ุนูู `Application` ู `Domain` ููุท |
| **R-DEP-04** | `Presentation.WinForms` ูุนุชูุฏ ุนูู `Application` ููุท โ ูุง ูุตู ููุจููุฉ ุงูุชุญุชูุฉ ูุจุงุดุฑุฉ |
| **R-DEP-05** | `Bootstrapper` ูู ุงููุญูุฏ ุงูุฐู ูุฌูุน ูู ุงูุทุจูุงุช (Composition Root) |

> **ุงูุชุญูู ุงูุขูู:** `tests/ERP.ArchitectureGuard/ArchitectureDependencyTests.cs`

## 2. ุทุจูุฉ ุงููุทุงู โ Domain Layer (`ERP.Domain`)

| ุงููุงุนุฏุฉ | ุงูุชูุตูู |
| --- | --- |
| **R-DOM-01** | ุงูููุงุนุฏ ุงูุชุฌุงุฑูุฉ (Business Rules) ุชูุฌุฏ **ููุท** ูู Domain |
| **R-DOM-02** | ูู Aggregate Root ูุฑุซ ูู `Entity` ุฃู ูุทุจูู ูููุฉ ูุฑูุฏุฉ |
| **R-DOM-03** | ุงูุชุนุฏูู ูุชู ููุท ุนุจุฑ methods ุนูู ุงูู Aggregate Root โ ูุง ูุตูู ูุจุงุดุฑ ููููุงูุงุช ุงูุฏุงุฎููุฉ |
| **R-DOM-04** | ุงูู Invariants ุชููุฑุถ ุฏุงุฎู ุงูู Aggregate Root (constructor ุฃู methods) |
| **R-DOM-05** | ุนูุฏ ุงูุชูุงู invariant ููุฑูู Exception ูุงุถุญ ููุญุฏุฏ |
| **R-DOM-06** | Domain Events ุชูุตุงุบ ุจุตูุบุฉ ุงููุงุถู (ูุซู `JournalPosted`ุ `AccountRegistered`) |
| **R-DOM-07** | Domain Events ูุง ุชุญุชูู ููุทู ุฃุนูุงู โ ุจูุงูุงุช ููุท |
| **R-DOM-08** | Domain Events ุชูุตุฏุฑ ูู ุฏุงุฎู ุงูู Aggregate Root ููุท |
| **R-DOM-09** | ูุง ุฃุทุฑ ุนููุ ูุง ุจููุฉ ุชุญุชูุฉุ ูุง ูุงุฌูุงุช ูุณุชุฎุฏูุ ูุง ุชุฎุฒูู ุจูุงูุงุช ูู Domain |
| **R-DOM-10** | ูุง ููุทู ุญุงูุงุช ุงุณุชุฎุฏุงู ุฃู ุชูุณูู ุนูููุงุช ูู Domain |

## 3. ุทุจูุฉ ุงูุชุทุจูู โ Application Layer (`ERP.Application`)

| ุงููุงุนุฏุฉ | ุงูุชูุตูู |
| --- | --- |
| **R-APP-01** | CQRS ุฎููู: **Commands ุชูุบููุฑ ุงูุญุงูุฉ**ุ **Queries ูุง ุชูุบููุฑ ุงูุญุงูุฉ** |
| **R-APP-02** | ูู Use Case ููุงุจู Command ุฃู Query ูุงุญุฏ |
| **R-APP-03** | Command = ูุงุฆู ุจูุงูุงุช (DTO) ูุตู ุงูุนูููุฉ ุงููุทููุจุฉ |
| **R-APP-04** | Command Handler ูุง ููุฑุฌุน ุจูุงูุงุช (ุฃู ูุฑุฌุน ID ููุท ุนูุฏ ุงูุถุฑูุฑุฉ) |
| **R-APP-05** | Query Handler ููุฑุฃ ูู Repository ูููุฑุฌุน DTO โ ูุง ููุบููุฑ ุญุงูุฉ ุฃู Aggregate |
| **R-APP-06** | Handler ูุณุชุฎุฏู `IUnitOfWork` ูุถูุงู ุญุฏูุฏ ุงููุนุงููุฉ |
| **R-APP-07** | Handler ููููุถ ููุทู ุงูุฃุนูุงู ููู Domain โ ูุง ููุงุนุฏ ุฃุนูุงู ูู Application |
| **R-APP-08** | Application ูุนุฑูู ูุงุฌูุงุช ุงูุจููุฉ ุงูุชุญุชูุฉ (Repositoriesุ `IUnitOfWork`) โ ูุง ููููุฐูุง |
| **R-APP-09** | ูุง ุชูููุฐุงุช ุชูููุฉ ุฃู ุชุนุงูู ูุจุงุดุฑ ูุน ุงูุจููุฉ ุงูุชุญุชูุฉ |

## 4. ุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ โ Infrastructure Layer (`ERP.Infrastructure`)

| ุงููุงุนุฏุฉ | ุงูุชูุตูู |
| --- | --- |
| **R-INF-01** | Repository ูุทุจูู ูุงุฌูุฉ ูุนุฑููุฉ ูู Application |
| **R-INF-02** | ูุง ููุทู ุฃุนูุงู ุฃู ููุงุนุฏ ูุทุงู ูู Infrastructure |
| **R-INF-03** | ูููู ุงุณุชุจุฏุงู ุงูุชูููุฐ (ูุซูุงู In-Memory โ EF Core) ุจุฏูู ุชุฃุซูุฑ ุนูู ุงูุทุจูุงุช ุงูุฃุฎุฑู |
| **R-INF-04** | ูู ุชูุงูู ุฎุงุฑุฌู ูุทุจูู ูุงุฌูุฉ ูุนุฑููุฉ ูู Application |
| **R-INF-05** | ููุณุฌููู ูู DI Container ุนุจุฑ `InfrastructureModule` |

## 5. ุทุจูุฉ ุงูุนุฑุถ โ Presentation Layer (`ERP.Presentation.WinForms`)

| ุงููุงุนุฏุฉ | ุงูุชูุตูู |
| --- | --- |
| **R-PRE-01** | ูุง ููุทู ุฃุนูุงูุ ูุง ููุงุนุฏ ูุทุงู ูู Presentation |
| **R-PRE-02** | ูุง ูุตูู ูุจุงุดุฑ ููุจููุฉ ุงูุชุญุชูุฉ โ ุชุชุนุงูู ูุน Application ููุท |
| **R-PRE-03** | ุงุชุจุงุน Supervising Controller / Passive View |
| **R-PRE-04** | ุงูู Controllers ุชูุณูู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ูุชุญุฏูุซ ุงูู Views |

## 6. ููุทุฉ ุงูุชุดุบูู โ Bootstrapper (`ERP.Bootstrapper`)

| ุงููุงุนุฏุฉ | ุงูุชูุตูู |
| --- | --- |
| **R-BST-01** | `Bootstrapper` ูู ุงูู Composition Root ุงููุญูุฏ |
| **R-BST-02** | ูุชู ุญูู ุฌููุน ุงูุงุนุชูุงุฏุงุช ุตุฑุงุญุฉู โ ูุง Service Locators |
| **R-BST-03** | ูุง ููุทู ุฃุนูุงู โ ุชููุฆุฉ ูุชุณุฌูู ูุชุดุบูู ููุท |

## 7. ุงูุงุฎุชุจุงุฑุงุช โ Testing

| ุงููุงุนุฏุฉ | ุงูุชูุตูู |
| --- | --- |
| **R-TST-01** | ูู invariant ูู Domain ูุฌุจ ุฃู ูููู ูู ุงุฎุชุจุงุฑ ูู `tests/ERP.Domain.Tests` |
| **R-TST-02** | ูู Use Case handler ูุฌุจ ุฃู ูููู ูู ุงุฎุชุจุงุฑ ูู `tests/ERP.Application.Tests` |
| **R-TST-03** | ุญุฏูุฏ ุงูุงุนุชูุงุฏุงุช ุจูู ุงูุทุจูุงุช ุชูุญุฑุณ ุจู `tests/ERP.ArchitectureGuard` |

## 8. ุงูุชูุซูู โ Documentation

| ุงููุงุนุฏุฉ | ุงูุชูุตูู |
| --- | --- |
| **R-DOC-01** | ูู ููู `.md` ูู `docs/` ูุจุฏุฃ ุจุนููุงู `# Title` |
| **R-DOC-02** | `README.md` ููููููุฏ ุชููุงุฆูุงู โ ูุง ููุนุฏููู ูุฏููุงู |
| **R-DOC-03** | ุงูุชุบููุฑุงุช ูู ุงูุชูุซูู ุชุชู ุนุจุฑ ูููุงุช `docs/` ุซู ุชุดุบูู `scripts/generate-readme.sh` |
| **R-DOC-04** | ุฃู PR ูุบููุฑ ููุฏูุง ูู `src/` ุจุฏูู ุชุนุฏูู ููุงูุจ ูู `docs/` โ **ููุฑูุถ ููุฑูุง** |

## 9. ุจูุงุจุฉ CI โ CI Gate

> ๐ซ **ุฃู PR ูุฎุงูู ูุฐู ุงูููุงุนุฏ ููุฑูุถ ุชููุงุฆูุงู ุนุจุฑ CI โ ุจุฏูู ุงุณุชุซูุงุก.**

| ุงูุนูุตุฑ | ุงูุชูุตูู |
| --- | --- |
| **ุณูุฑ ุงูุนูู** | `.github/workflows/architecture-gate.yml` |
| **ุงูุณูุฑุจุช** | `scripts/check-architecture.sh` |
| **ูุชุญูู ูู** | ุงุชุฌุงู ุงูุงุนุชูุงุฏุงุช (R-DEP)ุ ุนุฒู ุงูุทุจูุงุช (R-DOM/R-APP)ุ ุจููุฉ ุงูุชูุซูู (R-DOC)ุ ููุน Service Locators (R-BST-02)ุ ุชุนุฏูู ุงูุชูุซูู ูุน ุงูููุฏ (R-DOC-04) |
| **ูุชู ูุนูู** | ุนูู ูู Pull Request ููู Push ุฅูู `main` |
| **ุงููุชูุฌุฉ** | โ ูุดู = PR ูุฑููุถ ยท โ ูุฌุงุญ = PR ูุณููุญ |

### ููู ูุนูู

```bash
# ุชุดุบูู ูุญูู ูุจู ูุชุญ PR
bash scripts/check-architecture.sh
```

ูุชุญูู ุงูุณูุฑุจุช ูู:
1. ูุฌูุฏ `docs/ARCHITECTURE_RULES.md`
2. ุงุชุฌุงู ุงุนุชูุงุฏุงุช ุงููุดุงุฑูุน ุนุจุฑ `.csproj` (R-DEP-01 ุฅูู R-DEP-05)
3. ุนุฏู ูุฌูุฏ ุญุฒู ุจููุฉ ุชุญุชูุฉ ูู Domain ุฃู Application (R-DOM-09ุ R-APP-09)
4. ุจููุฉ ูููุงุช ุงูุชูุซูู (R-DOC-01ุ R-DOC-02)
5. ุนุฏู ูุฌูุฏ Service Locator patterns ุฎุงุฑุฌ Bootstrapper (R-BST-02)
6. ุฃู PR ูุบููุฑ `src/` ูุฌุจ ุฃู ูุบููุฑ `docs/` ุฃูุถุงู (R-DOC-04)

## ูุฑุฌุน ุณุฑูุน โ Quick Reference

```
โ ุงูููุงุนุฏ ุงูุชุฌุงุฑูุฉ โ Domain ููุท
โ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู โ Application (Command/Query + Handler)
โ ุงูุชูููุฐุงุช ุงูุชูููุฉ โ Infrastructure
โ ุงููุงุฌูุฉ โ Presentation (ูุง ููุทู ุฃุนูุงู)
โ ุงูุชุฌููุน โ Bootstrapper (Composition Root)
โ ุงูุงุนุชูุงุฏุงุช โ ูุญู ุงูุฏุงุฎู ููุท
โ ุงูุงุฎุชุจุงุฑุงุช โ ูู invariant ููู use-case
โ ุงูุชูุซูู โ ูู ุชุบููุฑ ูู src/ ูุฑุงููู ุชุญุฏูุซ docs/
โ Service Locators
โ ููุทู ุฃุนูุงู ุฎุงุฑุฌ Domain
โ ูุตูู Presentation ููุจููุฉ ุงูุชุญุชูุฉ
โ ุชุบููุฑ ููุฏ ุจุฏูู ุชุญุฏูุซ ุงูุชูุซูู
```

_Last Updated: 2026-02-10_

---

# ุฏููู ุงูุชุทููุฑ โ Development Guide

> ๐ `docs/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](documentation-map.md)

## ุงููุตู ุงูุนุงู

ููุถุญ ูุฐุง ุงูุฏููู ููููุฉ ุงููุณุงููุฉ ูู ุงููุดุฑูุนุ ุฅุถุงูุฉ ููุงูุงุช ุฌุฏูุฏุฉุ ููุนุงููุฑ ุงูููุฏ ุงููุชูุจุนุฉ.

## ๐๏ธ ุฅุถุงูุฉ ููุงู ุฌุฏูุฏ โ Adding a New Entity

ุงุชุจุน ุงูุฎุทูุงุช ุงูุชุงููุฉ ุจุงูุชุฑุชูุจ ูุฅุถุงูุฉ ููุงู (Entity/Aggregate) ุฌุฏูุฏ ูุน ุงูุญูุงุธ ุนูู Clean Architecture:

### 1. ุทุจูุฉ ุงููุทุงู (Domain)

```
src/ERP.Domain/{Module}/Aggregates/{EntityName}/{EntityName}.cs
src/ERP.Domain/{Module}/ValueObjects/{ValueObjectName}.cs        # ุฅู ูุฒู
src/ERP.Domain/{Module}/Events/{EventName}.cs                    # ุฅู ูุฒู
src/ERP.Domain/{Module}/Exceptions/{ExceptionName}.cs            # ุฅู ูุฒู
```

- ุงูููุงู ูุฑุซ ูู `Entity` ููููุฑุถ ููู ุงูู invariants.
- ุงูููู ุงูุซุงุจุชุฉ (ูุซู `Money`, `AccountNumber`) ุชููู Value Objects.
- ุงูุฃุญุฏุงุซ ุชูุตุงุบ ุจุตูุบุฉ ุงููุงุถู (`OrderPlaced`, `InvoiceIssued`).

### 2. ุทุจูุฉ ุงูุชุทุจูู (Application)

```
src/ERP.Application/{Module}/{EntityName}/
โโโ I{EntityName}Repository.cs            # ูุงุฌูุฉ ุงููุณุชูุฏุน (write)
โโโ I{EntityName}ReadRepository.cs        # ูุงุฌูุฉ ุงููุฑุงุกุฉ (read)
โโโ Create{Entity}/
โ   โโโ Create{Entity}Command.cs          # Command DTO
โ   โโโ Create{Entity}Handler.cs          # Handler
โโโ Get{Entity}ById/
โ   โโโ Get{Entity}ByIdQuery.cs           # Query DTO
โ   โโโ Get{Entity}ByIdHandler.cs         # Handler
โ   โโโ {Entity}DetailsDto.cs             # DTO ููุนุฑุถ
โโโ List{Entities}/
    โโโ List{Entities}Query.cs
    โโโ List{Entities}Handler.cs
    โโโ {Entity}ListItemDto.cs
```

- **Commands** ุชูุบููุฑ ุงูุญุงูุฉ โ **Queries** ูุง ุชูุบููุฑ ุงูุญุงูุฉ (R-APP-01).
- Handler ููููุถ ููุทู ุงูุฃุนูุงู ููู Domain (R-APP-07).

### 3. ุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ (Infrastructure)

```
src/ERP.Infrastructure/Persistence/Repositories/InMemory{EntityName}Repository.cs
```

- ููููุฐ ุงููุงุฌูุงุช ุงููุนุฑููุฉ ูู Application (R-INF-01).
- ููุณุฌููู ูู `InfrastructureModule.cs` (R-INF-05).

### 4. ุทุจูุฉ ุงูุนุฑุถ (Presentation)

```
src/ERP.Presentation.WinForms/{Module}/{EntityName}/
โโโ {EntityName}ListForm.cs
โโโ {EntityName}DetailsForm.cs
```

- ูุง ููุทู ุฃุนูุงู โ ุนุฑุถ ููุท (R-PRE-01).

### 5. ุงูุงุฎุชุจุงุฑุงุช (Tests)

```
tests/ERP.Domain.Tests/{Module}/{EntityName}/{EntityName}Tests.cs
tests/ERP.Application.Tests/{Module}/{EntityName}/{HandlerName}Tests.cs
```

- ูู invariant ูุฌุจ ุฃู ูููู ูู ุงุฎุชุจุงุฑ (R-TST-01).
- ูู Handler ูุฌุจ ุฃู ูููู ูู ุงุฎุชุจุงุฑ (R-TST-02).

### 6. ุงูุชูุซูู (Documentation)

```
docs/modules/{EntityName}.md
```

- ูู ุชุบููุฑ ูู `src/` ูุฌุจ ุฃู ูุฑุงููู ุชุญุฏูุซ ูู `docs/` (R-DOC-04).

## ๐ ูุนุงููุฑ ุงูููุฏ โ Code Standards

### ุชุณููุฉ C# โ Naming Conventions

| ุงูุนูุตุฑ | ุงูููุท | ูุซุงู |
| --- | --- | --- |
| Classes / Records | PascalCase | `ChartOfAccounts`, `PostJournalCommand` |
| Interfaces | I + PascalCase | `IJournalRepository`, `IUnitOfWork` |
| Methods | PascalCase | `RegisterAccount()`, `HandleAsync()` |
| Private fields | _camelCase | `_repository`, `_unitOfWork` |
| Parameters | camelCase | `chartId`, `journalNumber` |
| Constants | PascalCase | `MaxLineCount` |

### ูุจุงุฏุฆ ุงูููุฏ ุงููุธูู โ Clean Code Principles

- โ ุงุชุจุน ูุจุงุฏุฆ **SOLID**
- โ ุงุณุชุฎุฏู **Dependency Injection** ุนุจุฑ ุงูู constructor
- โ ุฃุถู **XML comments** ุนูู ุงูุฃุนุถุงุก ุงูุนุงูุฉ
- โ ุงุฑูู **Domain Exceptions** ูุงุถุญุฉ ุนูุฏ ุงูุชูุงู invariant
- โ ุงูุชุจ **ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ** ููู ูุงุนุฏุฉ ุชุฌุงุฑูุฉ
- โ ูุง ุชุณุชุฎุฏู **Service Locator** ุฎุงุฑุฌ Bootstrapper
- โ ูุง ุชุถุน **ููุทู ุฃุนูุงู** ุฎุงุฑุฌ ุทุจูุฉ Domain
- โ ูุง ุชุนุชูุฏ ุนูู **ุจููุฉ ุชุญุชูุฉ** ูู Domain ุฃู Application

### ููุท ุงูุงุฎุชุจุงุฑ โ Test Pattern (AAA)

```csharp
[Fact]
public async Task HandleAsync_WhenCalled_ExpectedBehavior()
{
    // Arrange โ ุชุฌููุฒ ุงูุจูุงูุงุช ูุงูุงุนุชูุงุฏุงุช
    var repository = new InMemoryRepository();
    var handler = new MyHandler(repository, unitOfWork);

    // Act โ ุชูููุฐ ุงูุนูููุฉ
    await handler.HandleAsync(new MyCommand(...));

    // Assert โ ุงูุชุญูู ูู ุงููุชูุฌุฉ
    Assert.NotNull(result);
}
```

## ๐ ุณูุฑ ุนูู ุงูุชุทููุฑ โ Development Workflow

```
1. ุฃูุดุฆ ูุฑุน:     git checkout -b feature/my-feature
2. ูููุฐ ุงูุชุบููุฑ:   (ุงุชุจุน ุงูุฎุทูุงุช ุฃุนูุงู)
3. ุงูุญุต ูุญููุงู:   bash scripts/check-architecture.sh
4. ุดุบูู ุงูุงุฎุชุจุงุฑุงุช: dotnet test
5. ุญุฏูุซ ุงูุชูุซูู:   (ุนุฏูู docs/ ุซู ุดุบูู scripts/generate-readme.sh)
6. ุงุฏูุน ูุงูุชุญ PR:  git push origin feature/my-feature
```

> โ๏ธ CI Gate ุณูุฑูุถ PR ุชููุงุฆูุงู ุฅุฐุง ุฎุงูู ุฃู ูุงุนุฏุฉ ูุนูุงุฑูุฉ.

_Last Updated: 2026-02-21_

---

# ุงูุชูุตูุงุช ุงูุญุฑุฌุฉ โ Critical Recommendations

> ๐ `docs/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](documentation-map.md)

## ุงููุตู ุงูุนุงู

ููุซูู ูุฐุง ุงูููู ุงูุชูุตูุงุช ุงูุญุฑุฌุฉ ูุชุญุณูู ุญู NoufexERP ุจูุงุกู ุนูู ุชุญููู ุงูุญุงูุฉ ุงูุฑุงููุฉ ูููุดุฑูุน.
ุชุฑุชุจุท ูู ุชูุตูุฉ ุจุงูููุงุนุฏ ุงููุนูุงุฑูุฉ ุงููุญุฏุฏุฉ ูู [`ARCHITECTURE_RULES.md`](ARCHITECTURE_RULES.md) ุญูุซูุง ููุทุจู.

---

## 1. ุงูุชุฎุฒูู ุงูุฏุงุฆู โ Persistent Storage

| ุงูุจูุฏ | ุงูุชูุตูู |
| --- | --- |
| **ุงูุฃููููุฉ** | ๐ด ุญุฑุฌุฉ |
| **ุงูุญุงูุฉ ุงูุฑุงููุฉ** | ุฌููุน ุงููุณุชูุฏุนุงุช (Repositories) ุชุนูู ูู ุงูุฐุงูุฑุฉ ููุท (`InMemory`) โ ุชูููุฏ ุงูุจูุงูุงุช ุนูุฏ ุฅุบูุงู ุงูุชุทุจูู |
| **ุงูุชูุตูุฉ** | ุฅุถุงูุฉ ุชูููุฐ `EF Core` (ุฃู ุฃู ORM) ูู ุทุจูุฉ `Infrastructure` ูุน `DbContext` ูููุงุฌุฑุงุช (Migrations) |
| **ุงููุงุนุฏุฉ ุงููุฑุชุจุทุฉ** | R-INF-01ุ R-INF-03 โ ุงูุชูููุฐ ูุทุจูู ูุงุฌูุงุช `Application` ููููู ุงุณุชุจุฏุงูู ุจุฏูู ุชุฃุซูุฑ ุนูู ุงูุทุจูุงุช ุงูุฃุฎุฑู |

---

## 2. ูุนุงูุฌุฉ ุฃุญุฏุงุซ ุงููุทุงู โ Domain Event Handling

| ุงูุจูุฏ | ุงูุชูุตูู |
| --- | --- |
| **ุงูุฃููููุฉ** | ๐ด ุญุฑุฌุฉ |
| **ุงูุญุงูุฉ ุงูุฑุงููุฉ** | ุงูู Domain Events ุชููุดุฃ ุฏุงุฎู ุงูู Aggregates (ูุซู `JournalPosted`) ููููุง ูุง ุชููุดุฑ ููุง ุชูุนุงูุฌ |
| **ุงูุชูุตูุฉ** | ุชูุนูู ูุดุฑ ุงูุฃุญุฏุงุซ ุนุจุฑ `MediatR INotification` ูุน ุฅุถุงูุฉ Handlers ููุนุงูุฌุชูุง (ูุซูุงู: ุชุฑุญูู ุชููุงุฆู ุนูุฏ ูุดุฑ ููุฏ) |
| **ุงููุงุนุฏุฉ ุงููุฑุชุจุทุฉ** | R-DOM-06ุ R-DOM-07ุ R-DOM-08 โ ุงูุฃุญุฏุงุซ ุชูุตุฏุฑ ูู ุงูู Aggregate Root ูุชุญูู ุจูุงูุงุช ููุท |

---

## 3. ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุงูุชุณุฌูู โ Error Handling & Logging

| ุงูุจูุฏ | ุงูุชูุตูู |
| --- | --- |
| **ุงูุฃููููุฉ** | ๐ด ุญุฑุฌุฉ |
| **ุงูุญุงูุฉ ุงูุฑุงููุฉ** | ูุง ููุฌุฏ ุชุณุฌูู ูุฑูุฒู (`ILogger`) ููุง ูุนุงูุฌุฉ ุดุงููุฉ ููุงุณุชุซูุงุกุงุช ูู ููุทุฉ ุงูุชุดุบูู |
| **ุงูุชูุตูุฉ** | ุฅุถุงูุฉ `Microsoft.Extensions.Logging` ูุน ูุฒููุฏ ุชุณุฌูู (ูุซู Serilog) ูู `Bootstrapper`ุ ููุนุงูุฌุฉ ุงุณุชุซูุงุกุงุช ุดุงููุฉ ูู `Application.ThreadException` |
| **ุงููุงุนุฏุฉ ุงููุฑุชุจุทุฉ** | R-BST-01ุ R-BST-03 โ ุงูุชููุฆุฉ ูุงูุชุณุฌูู ุชุชู ูู Bootstrapper ููุท |

---

## 4. ุณุฌู ุงููุฑุงุฌุนุฉ โ Audit Trail

| ุงูุจูุฏ | ุงูุชูุตูู |
| --- | --- |
| **ุงูุฃููููุฉ** | ๐ ุนุงููุฉ |
| **ุงูุญุงูุฉ ุงูุฑุงููุฉ** | ูุง ุชูุฌุฏ ุญููู ูุฑุงุฌุนุฉ (CreatedByุ ModifiedByุ CreatedAtุ ModifiedAt) ูู ุฃุบูุจ ุงูููุงูุงุช |
| **ุงูุชูุตูุฉ** | ุฅุถุงูุฉ ูุงุฌูุฉ `IAuditable` ูู `Domain` ูุน ุญููู ุงููุฑุงุฌุนุฉุ ูุชุนุจุฆุชูุง ุชููุงุฆูุงู ูู `UnitOfWork` ุนูุฏ ุงูุญูุธ |
| **ุงููุงุนุฏุฉ ุงููุฑุชุจุทุฉ** | R-DOM-01 โ ุงูููุงุนุฏ ุงูุชุฌุงุฑูุฉ ูู Domain ููุท |

---

## 5. ุงูุชุญูู ูู ุตุญุฉ ุงููุฏุฎูุงุช โ Input Validation

| ุงูุจูุฏ | ุงูุชูุตูู |
| --- | --- |
| **ุงูุฃููููุฉ** | ๐ ุนุงููุฉ |
| **ุงูุญุงูุฉ ุงูุฑุงููุฉ** | ุงูุชุญูู ูุชู ููุท ุนุจุฑ ุงุณุชุซูุงุกุงุช ููุช ุงูุชุดุบูู ุฏุงุฎู ุงูู Aggregates โ ูุง ููุฌุฏ ุชุญูู ูุณุจู ุนูู ูุณุชูู Commands |
| **ุงูุชูุตูุฉ** | ุฅุถุงูุฉ ุทุจูุฉ ุชุญูู (ูุซู `FluentValidation`) ูู Pipeline Behavior ูู `MediatR` ุฏุงุฎู ุทุจูุฉ `Application` |
| **ุงููุงุนุฏุฉ ุงููุฑุชุจุทุฉ** | R-APP-07 โ Handler ููููุถ ููุทู ุงูุฃุนูุงู ููู Domain ูุน ุฅููุงููุฉ ุฅุถุงูุฉ ุชุญูู ูุณุจู |

---

## 6. ุงุฎุชุจุงุฑุงุช ุทุจูุฉ ุงููุทุงู โ Domain Tests Coverage

| ุงูุจูุฏ | ุงูุชูุตูู |
| --- | --- |
| **ุงูุฃููููุฉ** | ๐ ุนุงููุฉ |
| **ุงูุญุงูุฉ ุงูุฑุงููุฉ** | ููุฌุฏ ููู ุงุฎุชุจุงุฑ ูุงุญุฏ ููุท (`JournalTests.cs`) ูู `ERP.Domain.Tests` โ ูุง ุชุบุทูุฉ ูู `ChartOfAccounts` ุฃู `Ledger` ุฃู `Account` |
| **ุงูุชูุตูุฉ** | ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ ููู invariant ูู ูู Aggregate Root (ChartOfAccountsุ Ledgerุ Account) |
| **ุงููุงุนุฏุฉ ุงููุฑุชุจุทุฉ** | R-TST-01 โ ูู invariant ูู Domain ูุฌุจ ุฃู ูููู ูู ุงุฎุชุจุงุฑ |

---

## 7. ูุญุฏุฉ ุงูุนูู ุงูุญููููุฉ โ Real Unit of Work

| ุงูุจูุฏ | ุงูุชูุตูู |
| --- | --- |
| **ุงูุฃููููุฉ** | ๐ก ูุชูุณุทุฉ |
| **ุงูุญุงูุฉ ุงูุฑุงููุฉ** | `InMemoryUnitOfWork.SaveChangesAsync()` ูุง ูููู ุจุฃู ุนูู ูุนูู โ ูุง ุถูุงู ูุญุฏูุฏ ุงููุนุงููุฉ |
| **ุงูุชูุตูุฉ** | ุฑุจุท `IUnitOfWork` ุจู `DbContext.SaveChangesAsync()` ุนูุฏ ุงูุงูุชูุงู ูู EF Core ูุถูุงู ุงูุฐุฑูุฉ (Atomicity) |
| **ุงููุงุนุฏุฉ ุงููุฑุชุจุทุฉ** | R-APP-06 โ Handler ูุณุชุฎุฏู `IUnitOfWork` ูุถูุงู ุญุฏูุฏ ุงููุนุงููุฉ |

---

## 8. ุฅููุงู ูุงุฌูุงุช ุงููุณุชุฎุฏู โ Complete UI Forms

| ุงูุจูุฏ | ุงูุชูุตูู |
| --- | --- |
| **ุงูุฃููููุฉ** | ๐ก ูุชูุณุทุฉ |
| **ุงูุญุงูุฉ ุงูุฑุงููุฉ** | ุจุนุถ ุงูููุงุฐุฌ (ูุซู ุดุงุดุงุช ุงูุชูุงุตูู) ุบูุฑ ููุชููุฉ ุงููุธุงุฆู |
| **ุงูุชูุตูุฉ** | ุฅููุงู ุฌููุน ููุงุฐุฌ WinForms ูุน ุฑุจุทูุง ุจุงูู Controllers ูุญุงูุงุช ุงูุงุณุชุฎุฏุงู ุงูููุงุจูุฉ |
| **ุงููุงุนุฏุฉ ุงููุฑุชุจุทุฉ** | R-PRE-01ุ R-PRE-03 โ ุงููุงุฌูุฉ ุชุนุฑุถ ููุท ููุง ุชุญุชูู ููุทู ุฃุนูุงู |

---

## ููุฎุต ุงูุฃููููุงุช

| ุงูุฃููููุฉ | ุงูุชูุตูุฉ | ุงูุฃุซุฑ |
| --- | --- | --- |
| ๐ด ุญุฑุฌุฉ | ุงูุชุฎุฒูู ุงูุฏุงุฆู (EF Core) | ุจุฏููู ูุง ูุตูุญ ุงููุธุงู ููุงุณุชุฎุฏุงู ุงููุนูู |
| ๐ด ุญุฑุฌุฉ | ูุนุงูุฌุฉ ุฃุญุฏุงุซ ุงููุทุงู | ุจุฏูููุง ูุง ูุนูู ุงูุชูุงูู ุจูู ุงููุญุฏุงุช |
| ๐ด ุญุฑุฌุฉ | ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุงูุชุณุฌูู | ุจุฏูููุง ูุง ูููู ุชุดุฎูุต ุงููุดุงูู ูู ุงูุฅูุชุงุฌ |
| ๐ ุนุงููุฉ | ุณุฌู ุงููุฑุงุฌุนุฉ | ุถุฑูุฑู ููุงูุชุซุงู ูุงููุญุงุณุจุฉ |
| ๐ ุนุงููุฉ | ุงูุชุญูู ูู ุงููุฏุฎูุงุช | ูููุน ุจูุงูุงุช ุบูุฑ ุตุงูุญุฉ ูู ุงููุตูู ูููุธุงู |
| ๐ ุนุงููุฉ | ุงุฎุชุจุงุฑุงุช ุทุจูุฉ ุงููุทุงู | ูุถูู ุตุญุฉ ุงูููุงุนุฏ ุงูุชุฌุงุฑูุฉ |
| ๐ก ูุชูุณุทุฉ | ูุญุฏุฉ ุงูุนูู ุงูุญููููุฉ | ูุถูู ุณูุงูุฉ ุงูุจูุงูุงุช |
| ๐ก ูุชูุณุทุฉ | ุฅููุงู ูุงุฌูุงุช ุงููุณุชุฎุฏู | ููููู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู |

_Last Updated: 2026-02-10_

---

# ุฎุฑูุทุฉ ุงูุชูุซูู (Documentation Map)

ูุนุฑุถ ูุฐุง ุงูููู ูุงุฆูุฉ ุดุงููุฉ ุจุฌููุน ูููุงุช ุงูุชูุซูู ุงูููุฌูุฏุฉ ุญุงููุงู ูู ุงููุณุชูุฏุน.

## ูููุงุช ุงูุชูุซูู ุงูุฑุฆูุณูุฉ (`docs/`)

| ุงูููู | ุงููุตู |
| --- | --- |
| [`docs/overview.md`](overview.md) | ูุธุฑุฉ ุนุงูุฉ ุนูู ุญู ERP ูุดุฌุฑุฉ ุงููุธุงุฆู |
| [`docs/architecture.md`](architecture.md) | ุงูุจููุฉ ุงููุนูุงุฑูุฉ โ Clean Architecture + DDD + CQRS |
| [`docs/ARCHITECTURE_RULES.md`](ARCHITECTURE_RULES.md) | โ๏ธ ุงูููุงุนุฏ ุงููุนูุงุฑูุฉ ุงูุฅูุฒุงููุฉ โ ุงููุฑุฌุน ุงูุญุงูู ููุฑุงุฌุนุงุช PR |
| [`docs/README.template.md`](README.template.md) | ูุงูุจ ุชูููุฏ README.md ูููุงุนุฏ ุงูุชูุซูู |
| [`docs/critical-recommendations.md`](critical-recommendations.md) | โ๏ธ ุงูุชูุตูุงุช ุงูุญุฑุฌุฉ ูุชุญุณูู ุงููุดุฑูุน |
| [`docs/development-guide.md`](development-guide.md) | ๐จโ๐ป ุฏููู ุงูุชุทููุฑ โ ุฅุถุงูุฉ ููุงูุงุช ููุนุงููุฑ ุงูููุฏ |
| [`docs/documentation-map.md`](documentation-map.md) | ูุฐุง ุงูููู โ ููุฑุณ ูููุงุช ุงูุชูุซูู |

## ุชูุซูู ุงููุดุงุฑูุน (`docs/projects/`)

| ุงูููู | ุงููุตู |
| --- | --- |
| [`docs/projects/Domain.md`](projects/Domain.md) | ุทุจูุฉ ุงููุทุงู โ ุงููููุฐุฌ ูุงูููุงุนุฏ ุงูุชุฌุงุฑูุฉ |
| [`docs/projects/Application.md`](projects/Application.md) | ุทุจูุฉ ุงูุชุทุจูู โ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู CQRS |
| [`docs/projects/Infrastructure.md`](projects/Infrastructure.md) | ุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ โ ุงูุชูููุฐุงุช ุงูุชูููุฉ |
| [`docs/projects/WinForms.md`](projects/WinForms.md) | ุทุจูุฉ ุงูุนุฑุถ โ ูุงุฌูุฉ WinForms |
| [`docs/projects/Bootstrapper.md`](projects/Bootstrapper.md) | ููุทุฉ ุงูุชุดุบูู โ Composition Root |

## ุชูุซูู ุงูููุฏููุงุช (`docs/modules/`)

| ุงูููู | ุงููุตู |
| --- | --- |
| [`docs/modules/Account.md`](modules/Account.md) | ุงูุญุณุงุจุงุช ุงููุงููุฉ |
| [`docs/modules/ChartOfAccounts.md`](modules/ChartOfAccounts.md) | ุงูุฏููู ุงููุญุงุณุจู |
| [`docs/modules/CostCenters.md`](modules/CostCenters.md) | ูุฑุงูุฒ ุงูุชูููุฉ |
| [`docs/modules/Inventory.md`](modules/Inventory.md) | ุงููุฎุฒูู |
| [`docs/modules/Journal.md`](modules/Journal.md) | ุงููููุฏ ุงูููููุฉ |
| [`docs/modules/Ledger.md`](modules/Ledger.md) | ุฏูุชุฑ ุงูุฃุณุชุงุฐ |
| [`docs/modules/Purchases.md`](modules/Purchases.md) | ุงููุดุชุฑูุงุช |
| [`docs/modules/Sales.md`](modules/Sales.md) | ุงููุจูุนุงุช |

## ุชูุซูู ุทุจูุฉ ุงููุทุงู (`docs/domain/`)

| ุงูููู | ุงููุตู |
| --- | --- |
| [`docs/domain/aggregates.md`](domain/aggregates.md) | ุงูู Aggregates โ ุญุฏูุฏ ุงูุงุชุณุงู ูู ูููุฐุฌ ุงูุฃุนูุงู |
| [`docs/domain/domain-events.md`](domain/domain-events.md) | ุฃุญุฏุงุซ ุงููุทุงู โ ุงูุชูุงุตู ุจูู ุงูููุงูุงุช ุงููุฌููุนุฉ |
| [`docs/domain/invariants.md`](domain/invariants.md) | ุงููููุฏ ุงูุฌููุฑูุฉ โ ุงูููุงุนุฏ ุงูุซุงุจุชุฉ ุฏุงุฎู ุงูู Aggregate |

## ุชูุซูู ุทุจูุฉ ุงูุชุทุจูู (`docs/application/`)

| ุงูููู | ุงููุตู |
| --- | --- |
| [`docs/application/commands.md`](application/commands.md) | ุงูุฃูุงูุฑ โ ููุฉ ุชุบููุฑ ุงูุญุงูุฉ |
| [`docs/application/queries.md`](application/queries.md) | ุงูุงุณุชุนูุงูุงุช โ ุทูุจ ูุฑุงุกุฉ ุจุฏูู ุชุนุฏูู |
| [`docs/application/use-cases.md`](application/use-cases.md) | ุญุงูุงุช ุงูุงุณุชุฎุฏุงู โ ุชูุณูู ุชุฏูู ุงูุนูู |

## ุชูุซูู ุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ (`docs/infrastructure/`)

| ุงูููู | ุงููุตู |
| --- | --- |
| [`docs/infrastructure/integrations.md`](infrastructure/integrations.md) | ุงูุชูุงููุงุช ุงูุฎุงุฑุฌูุฉ โ ุงูุฃูุธูุฉ ูุงูุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ |
| [`docs/infrastructure/persistence.md`](infrastructure/persistence.md) | ุงูุชุฎุฒูู โ ุชูููุฐ ูุงุฌูุงุช ุงูุชุฎุฒูู |

## ูููุงุช README ูููุดุงุฑูุน (`src/`)

| ุงูููู | ุงููุตู |
| --- | --- |
| [`src/ERP.Domain/README.md`](../src/ERP.Domain/README.md) | ุชูุซูู ุทุจูุฉ ุงููุทุงู โ ุงููููุฐุฌ ูุงูููุงุนุฏ ุงูุชุฌุงุฑูุฉ |
| [`src/ERP.Application/README.md`](../src/ERP.Application/README.md) | ุชูุซูู ุทุจูุฉ ุงูุชุทุจูู โ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู CQRS |
| [`src/ERP.Infrastructure/README.md`](../src/ERP.Infrastructure/README.md) | ุชูุซูู ุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ โ ุงูุชูููุฐุงุช ุงูุชูููุฉ |
| [`src/ERP.Presentation.WinForms/README.md`](../src/ERP.Presentation.WinForms/README.md) | ุชูุซูู ุทุจูุฉ ุงูุนุฑุถ โ ูุงุฌูุฉ WinForms |
| [`src/ERP.Bootstrapper/README.md`](../src/ERP.Bootstrapper/README.md) | ุชูุซูู ููุทุฉ ุงูุชุดุบูู โ Composition Root |

## ูููุงุช README ููุงุฎุชุจุงุฑุงุช (`tests/`)

| ุงูููู | ุงููุตู |
| --- | --- |
| [`tests/ERP.Domain.Tests/README.md`](../tests/ERP.Domain.Tests/README.md) | ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ ุงููุทุงู |
| [`tests/ERP.Application.Tests/README.md`](../tests/ERP.Application.Tests/README.md) | ุงุฎุชุจุงุฑุงุช ุทุจูุฉ ุงูุชุทุจูู |
| [`tests/ERP.ArchitectureGuard/README.md`](../tests/ERP.ArchitectureGuard/README.md) | ุญุฑุงุณุฉ ุงูุญุฏูุฏ ุงููุนูุงุฑูุฉ |

## ูููุงุช ุฃุฎุฑู ูู ุฌุฐุฑ ุงููุณุชูุฏุน

| ุงูููู | ุงููุตู |
| --- | --- |
| [`README.md`](../README.md) | ููู ุงูุชูุซูู ุงูุฑุฆูุณู (ููููููุฏ ุชููุงุฆูุงู ูู `docs/`) |
| [`SECURITY.md`](../SECURITY.md) | ุณูุงุณุฉ ุงูุฃูุงู ูุงูุฅุจูุงุบ ุนู ุงูุซุบุฑุงุช |
| [`CONTRIBUTING.md`](../CONTRIBUTING.md) | ุฏููู ุงููุณุงููุฉ ูู ุงููุดุฑูุน |
| [`LICENSE`](../LICENSE) | ุฑุฎุตุฉ MIT |
| [`Dockerfile`](../Dockerfile) | ุจูุงุก ูุงุฎุชุจุงุฑ ุงููุดุฑูุน ูู ุญุงููุฉ Docker |
| [`docker-compose.yml`](../docker-compose.yml) | ุชุดุบูู ุงูุญุงููุงุช |

## ุฃุฏูุงุช ุงูุชูุซูู

| ุงูููู | ุงููุตู |
| --- | --- |
| [`scripts/generate-readme.sh`](../scripts/generate-readme.sh) | ุณูุฑุจุช ุชูููุฏ README.md ุชููุงุฆูุงู ูู ูููุงุช `docs/` |
| [`scripts/check-architecture.sh`](../scripts/check-architecture.sh) | ุณูุฑุจุช ุงูุชุญูู ูู ุงูููุงุนุฏ ุงููุนูุงุฑูุฉ (CI Gate) |
| [`.github/workflows/docs-check.yml`](../.github/workflows/docs-check.yml) | ุณูุฑ ุนูู CI ููุชุญูู ูู ุชุญุฏูุซ README.md |
| [`.github/workflows/architecture-gate.yml`](../.github/workflows/architecture-gate.yml) | โ๏ธ ุจูุงุจุฉ CI โ ุชุฑูุถ ุฃู PR ูุฎุงูู ุงูููุงุนุฏ ุงููุนูุงุฑูุฉ |
| [`.github/copilot-instructions.md`](../.github/copilot-instructions.md) | ุชุนูููุงุช Copilot โ ุชุดูุฑ ุฅูู ุงูููุงุนุฏ ุงููุนูุงุฑูุฉ ููุฑุฌุน ุญุงูู |

_Last Updated: 2026-02-21_

---

# ุทุจูุฉ ุงูุชุทุจูู (Application Layer)

> ๐ `docs/projects/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ูุดุฑูุน `ERP.Application` ูุญุชูู ุนูู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู (Use Cases) ุจุตูุบุฉ CQRS ุฎูููุฉุ ูุงุฌูุงุช ุงููุณุชูุฏุนุงุชุ ูุญุฏูุฏ ุงููุนุงููุงุช (`IUnitOfWork`). ููุณูู ุจูู ุทุจูุฉ ุงููุทุงู ูุงูุจููุฉ ุงูุชุญุชูุฉ.

## ุงููุณุงุฑ

```
src/ERP.Application/
```

## ุงูุจููุฉ ุงูุฏุงุฎููุฉ

```
ERP.Application/
โโโ Accounting/
โ   โโโ Journals/
โ   โ   โโโ StartJournal/
โ   โ   โโโ AddJournalLine/
โ   โ   โโโ PostJournal/
โ   โ   โโโ GetJournalById/
โ   โ   โโโ ListJournals/
โ   โ   โโโ IJournalRepository.cs
โ   โ   โโโ IJournalReadRepository.cs
โ   โโโ ChartOfAccounts/
โ   โ   โโโ OpenChart/
โ   โ   โโโ RegisterAccount/
โ   โ   โโโ GetChartById/
โ   โ   โโโ ListCharts/
โ   โ   โโโ IChartOfAccountsRepository.cs
โ   โ   โโโ IChartOfAccountsReadRepository.cs
โ   โโโ Ledgers/
โ       โโโ OpenLedger/
โ       โโโ RegisterJournal/
โ       โโโ CloseLedger/
โ       โโโ GetLedgerById/
โ       โโโ ListLedgers/
โ       โโโ ILedgerRepository.cs
โ       โโโ ILedgerReadRepository.cs
โโโ ICommand.cs
โโโ IQuery.cs
โโโ IUnitOfWork.cs
```

## ุงููุณุคูููุงุช

- ุชูุณูู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู (Use Cases) ูุญุฏูุฏ ุงููุนุงููุงุช.
- ุชุทุจูู CQRS ุฎููู: **Commands ุชูุบููุฑ ุงูุญุงูุฉ**ุ **Queries ูุง ุชูุบููุฑ ุงูุญุงูุฉ**.
- ุชุนุฑูู ูุงุฌูุงุช ุงููุณุชูุฏุนุงุช (Repository interfaces) ููุจููุฉ ุงูุชุญุชูุฉ.

## ุงูุญุฏูุฏ ุงูุตุงุฑูุฉ

- ูุง ููุงุนุฏ ุฃุนูุงู ุฌููุฑูุฉ (ุชูุฌุฏ ูู Domain ููุท).
- ูุง ุชูููุฐุงุช ุชูููุฉ ุฃู ุชุนุงูู ูุจุงุดุฑ ูุน ุงูุจููุฉ ุงูุชุญุชูุฉ.

## ุงูุงุนุชูุงุฏูุงุช

- `ERP.Domain` โ ุงููููุฐุฌ ูุงูููุงุนุฏ ุงูุชุฌุงุฑูุฉ.
- MediatR โ ูุฅุฑุณุงู Commands/Queries (ูุณุฌูู ุนุจุฑ `ApplicationModule`).

## ุงูุงุฎุชุจุงุฑุงุช

```
tests/ERP.Application.Tests/
```

_Last Updated: 2026-02-10_

---

# ููุทุฉ ุงูุชุดุบูู (Bootstrapper โ Composition Root)

> ๐ `docs/projects/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ูุดุฑูุน `ERP.Bootstrapper` ูู ููุทุฉ ุงูุชุดุบูู ูุงูู Composition Root ููุชุทุจูู. ูููู ุจุชููุฆุฉ ุญุงููุฉ ุงูุญูู (DI Container) ูุชุณุฌูู ุฌููุน ุงูุทุจูุงุช ุซู ุชุดุบูู ูุงุฌูุฉ WinForms.

## ุงููุณุงุฑ

```
src/ERP.Bootstrapper/
```

## ุงูุจููุฉ ุงูุฏุงุฎููุฉ

```
ERP.Bootstrapper/
โโโ Program.cs
โโโ ContainerConfiguration.cs
```

## ุงููุณุคูููุงุช

- ุชููุฆุฉ `IServiceCollection` ูุชุณุฌูู ุฌููุน ุงูุทุจูุงุช:
  - ุทุจูุฉ ุงูุชุทุจูู (`AddApplication`)
  - ุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ (`AddInfrastructure`)
  - ุทุจูุฉ ุงูุนุฑุถ (WinForms Forms + Controllers)
- ุฅูุดุงุก DI scope ููุชุทุจูู.
- ุงุณุชุฏุนุงุก ูุชุดุบูู `MainForm`.

## ุงูุญุฏูุฏ ุงูุตุงุฑูุฉ

- ูุง ููุทู ุฃุนูุงูุ ูุง ููุงุนุฏ ูุทุงู.
- ููุชุตุฑ ุนูู ุงูุชููุฆุฉ ูุงูุชุณุฌูู ูุงูุชุดุบูู ููุท.
- ูุง ูููุดุฆ ูุงุฆูุงุช UI ูุฏููุงู โ ูุชู ุชุณุฌูููุง ุนุจุฑ ูุดุฑูุน Presentation.

## ุงููููุงุช ุงูุฑุฆูุณูุฉ

| ุงูููู | ุงููุตู |
| --- | --- |
| `Program.cs` | ููุทุฉ ุงูุจุฏุงูุฉ โ ูุจุฏุฃ ุงูุชุทุจูู ููุดุบูู `MainForm` ูู DI |
| `ContainerConfiguration.cs` | ุงูุชุณุฌูู ุงููุฑูุฒู ูุฌููุน ุงูุทุจูุงุช ูู DI Container |

## ุงูุชุดุบูู

```bash
dotnet run --project src/ERP.Bootstrapper
```

## ุงูุงุนุชูุงุฏูุงุช

- `ERP.Application` โ ุชุณุฌูู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู.
- `ERP.Infrastructure` โ ุชุณุฌูู ุงูุชูููุฐุงุช ุงูุชูููุฉ.
- `ERP.Presentation.WinForms` โ ุชุณุฌูู ุงููุงุฌูุงุช ูุงูู Controllers.

## ุงูุงุฎุชุจุงุฑุงุช

> ูุง ููุฌุฏ ูุดุฑูุน ุงุฎุชุจุงุฑุงุช ูุณุชูู ูููุทุฉ ุงูุชุดุบูู โ ููุฎุชุจุฑ ุถูููุงู ุนุจุฑ ุชุดุบูู ุงูุชุทุจูู.

_Last Updated: 2026-02-10_

---

# ุทุจูุฉ ุงููุทุงู (Domain Layer)

> ๐ `docs/projects/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ูุดุฑูุน `ERP.Domain` ูุญุชูู ุนูู ูููุฐุฌ ุงูุฃุนูุงู ุงูุฃุณุงุณู: Aggregatesุ Entitiesุ Value Objectsุ Domain Eventsุ ูุงูููุงุนุฏ ุงูุฌููุฑูุฉ (Invariants). ูุฐู ุงูุทุจูุฉ ูุง ุชุนุชูุฏ ุนูู ุฃู ุทุจูุฉ ุฃุฎุฑู.

## ุงููุณุงุฑ

```
src/ERP.Domain/
```

## ุงูุจููุฉ ุงูุฏุงุฎููุฉ

```
ERP.Domain/
โโโ Accounting/
โ   โโโ Aggregates/
โ   โ   โโโ Accounts/
โ   โ   โโโ ChartOfAccounts/
โ   โ   โโโ Journals/
โ   โ   โโโ Ledgers/
โ   โโโ ValueObjects/
โ   โโโ Events/
โ   โโโ Exceptions/
โโโ Entity.cs
โโโ ValueObject.cs
โโโ DomainEvent.cs
โโโ AssemblyMarker.cs
```

## ุงููุณุคูููุงุช

- ุชูุซูู ูููุฐุฌ ุงูุฃุนูุงู (Entities / Value Objects / Aggregates).
- ูุฑุถ ุงูููุงุนุฏ ูุงููููุฏ ุงูุฌููุฑูุฉ ุฏุงุฎู ุญุฏูุฏ ุงูู Aggregate.
- ุฅุตุฏุงุฑ Domain Events ููุตู ุฃุญุฏุงุซ ุงูุฃุนูุงู.

## ุงูุญุฏูุฏ ุงูุตุงุฑูุฉ

- ูุง ุฃุทุฑ ุนููุ ูุง ุจููุฉ ุชุญุชูุฉุ ูุง ูุงุฌูุงุช ูุณุชุฎุฏูุ ููุง ุชุฎุฒูู ุจูุงูุงุช.
- ูุง ูุญุชูู ุนูู ููุทู ุญุงูุงุช ุงุณุชุฎุฏุงู ุฃู ุชูุณูู ุนูููุงุช.
- ูุง ูุนุชูุฏ ุนูู ุฃู ูุดุฑูุน ุขุฎุฑ ูู ุงูุญู.

## ุงูุงุนุชูุงุฏูุงุช

ูุง ููุฌุฏ โ ุทุจูุฉ ูุณุชููุฉ ุชูุงููุง (innermost layer).

## ุงูุงุฎุชุจุงุฑุงุช

```
tests/ERP.Domain.Tests/
```

_Last Updated: 2026-02-10_

---

# ุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ (Infrastructure Layer)

> ๐ `docs/projects/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ูุดุฑูุน `ERP.Infrastructure` ููููุฐ ุงูุชูุงุตูู ุงูุชูููุฉ: ุชูููุฐุงุช ุงููุณุชูุฏุนุงุชุ ุงูุชุฎุฒููุ ุงูุชูุงููุงุช ุงูุฎุงุฑุฌูุฉุ ูุชุณุฌูู ุงูุฎุฏูุงุช ูู DI Container. ุงูุชูููุฐ ุงูุญุงูู ูุณุชุฎุฏู In-Memory.

## ุงููุณุงุฑ

```
src/ERP.Infrastructure/
```

## ุงูุจููุฉ ุงูุฏุงุฎููุฉ

```
ERP.Infrastructure/
โโโ Persistence/
โ   โโโ InMemoryUnitOfWork.cs
โ   โโโ Repositories/
โ       โโโ InMemoryChartOfAccountsRepository.cs
โ       โโโ InMemoryJournalRepository.cs
โ       โโโ InMemoryLedgerRepository.cs
โโโ InfrastructureModule.cs
โโโ AssemblyMarker.cs
```

## ุงููุณุคูููุงุช

- ุชูููุฐ ูุงุฌูุงุช ุงููุณุชูุฏุนุงุช ุงููุนุฑููุฉ ูู ุทุจูุฉ Application.
- ุชูููุฑ ุชุทุจููุงุช ุงูุชุฎุฒูู (ุญุงูููุง In-Memoryุ ูุณุชูุจูุงู EF Core ุฃู Dapper).
- ุชุณุฌูู ุงูุฎุฏูุงุช ูู DI Container ุนุจุฑ `InfrastructureModule`.

## ุงูุญุฏูุฏ ุงูุตุงุฑูุฉ

- ูุง ููุทู ุฃุนูุงู ุฃู ููุงุนุฏ ูุทุงู.
- ุชุนุชูุฏ ููุฏุงุฎู ููุท (ุนูู Application ู Domain).
- ูููู ุงุณุชุจุฏุงููุง ุจุณูููุฉ ุฏูู ุชุฃุซูุฑ ุนูู ุงูุทุจูุงุช ุงูุฃุฎุฑู.

## ุงูุงุนุชูุงุฏูุงุช

- `ERP.Application` โ ูุงุฌูุงุช ุงููุณุชูุฏุนุงุช ู `IUnitOfWork`.
- `ERP.Domain` โ ุงูููุงูุงุช ูุงูู Value Objects.

## ุงูุงุฎุชุจุงุฑุงุช

> ูุง ููุฌุฏ ูุดุฑูุน ุงุฎุชุจุงุฑุงุช ูุณุชูู ููุจููุฉ ุงูุชุญุชูุฉ ุญุงูููุง. ููุฎุชุจุฑ ุนุจุฑ ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู ูู `ERP.Application.Tests`.

_Last Updated: 2026-02-10_

---

# ุทุจูุฉ ุงูุนุฑุถ โ WinForms (Presentation Layer)

> ๐ `docs/projects/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ูุดุฑูุน `ERP.Presentation.WinForms` ููุซูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูููุชุจูุฉ ุงููุจููุฉ ุจู Windows Forms. ูุชุจุน ููุท Supervising Controller / Passive Viewุ ุญูุซ ุงูู Forms ุชุนุฑุถ ุงูุจูุงูุงุช ูุงูู Controllers ุชูุณูู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู.

## ุงููุณุงุฑ

```
src/ERP.Presentation.WinForms/
```

## ุงูุจููุฉ ุงูุฏุงุฎููุฉ

```
ERP.Presentation.WinForms/
โโโ Accounting/
โ   โโโ ChartOfAccounts/
โ   โ   โโโ ChartsController.cs
โ   โ   โโโ ChartsListForm.cs
โ   โ   โโโ ChartDetailsForm.cs
โ   โโโ Journals/
โ   โ   โโโ JournalsController.cs
โ   โ   โโโ JournalsListForm.cs
โ   โ   โโโ JournalDetailsForm.cs
โ   โ   โโโ JournalForm.cs
โ   โโโ Ledgers/
โ       โโโ LedgersController.cs
โ       โโโ LedgersListForm.cs
โ       โโโ LedgerDetailsForm.cs
โโโ Navigation/
โ   โโโ INavigationController.cs
โ   โโโ NavigationController.cs
โโโ Shell/
โ   โโโ IMainShell.cs
โ   โโโ MainForm.cs
โโโ Program.cs
โโโ AssemblyMarker.cs
```

## ุงููุณุคูููุงุช

- ุนุฑุถ ุงูุจูุงูุงุช ูููุณุชุฎุฏู ุนุจุฑ WinForms.
- ุงุชุจุงุน Supervising Controller / Passive View.
- ุงูู Controllers ุชูุณูู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ูุชุญุฏูุซ ุงูู Views.

## ุงูุญุฏูุฏ ุงูุตุงุฑูุฉ

- ูุง ููุทู ุฃุนูุงูุ ูุง ููุงุนุฏ ูุทุงู.
- ูุง ูุตูู ูุจุงุดุฑ ููุจููุฉ ุงูุชุญุชูุฉ.
- ุชุชุนุงูู ูุน ุทุจูุฉ Application ููุท ุนุจุฑ Handlers/Use Cases.

## ุงูุงุนุชูุงุฏูุงุช

- `ERP.Application` โ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ูุงูุงุณุชุนูุงูุงุช.
- Windows Forms SDK (`<UseWindowsForms>true</UseWindowsForms>`).

## ููุทุฉ ุงูุชุดุบูู

ูุชู ุชุดุบูู ุงูุชุทุจูู ุนุจุฑ `ERP.Bootstrapper` (Composition Root):

```bash
dotnet run --project src/ERP.Bootstrapper
```

## ุงูุงุฎุชุจุงุฑุงุช

> ูุง ููุฌุฏ ูุดุฑูุน ุงุฎุชุจุงุฑุงุช ูุณุชูู ูุทุจูุฉ ุงูุนุฑุถ ุญุงูููุง.

_Last Updated: 2026-02-10_

---

# ุงูุญุณุงุจุงุช (Account)

> **ุญุงูุฉ ุงูุชูููุฐ:** โ ููููุฐ
>
> ๐ `docs/modules/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ูุญุฏุฉ ุงูุญุณุงุจุงุช ุชููุซู ุงูุญุณุงุจุงุช ุงููุงููุฉ ุงููุฑุฏูุฉ ุฏุงุฎู ุงูุฏููู ุงููุญุงุณุจู. ูู ุญุณุงุจ ูุญูู ุฑูููุง ูุฑูุฏูุง ููุณุชูู ูู ุงูุดุฌุฑุฉ ุงููุญุงุณุจูุฉุ ูููุณุชุฎุฏู ูุชุณุฌูู ุงูุญุฑูุงุช ุงููุงููุฉ (ูุฏูู/ุฏุงุฆู).

## ุงููููุน ูู ุงูููุฏ

```
src/ERP.Domain/Accounting/Aggregates/Accounts/
src/ERP.Application/Accounting/ChartOfAccounts/
```

## ุงูููุงูุงุช ูุงูู Value Objects

| ุงูุนูุตุฑ | ุงูููุน | ุงููุตู |
| --- | --- | --- |
| `Account` | Entity | ุงูุญุณุงุจ ุงููุงูู ุฏุงุฎู ุงูุฏููู ุงููุญุงุณุจู |
| `AccountId` | Value Object | ูุนุฑูู ุงูุญุณุงุจ |
| `AccountNumber` | Value Object | ุฑูู ุงูุญุณุงุจ ุงููุฑูุฏ |
| `AccountName` | Value Object | ุงุณู ุงูุญุณุงุจ |

## ุงูููุงุนุฏ (Invariants)

- ูู ุญุณุงุจ ูู ุฑูู ูุฑูุฏ (`AccountNumber`) ุฏุงุฎู ุงูุฏููู ุงููุญุงุณุจู.
- ุงูุญุณุงุจุงุช ุงูุฃุจููุฉ ูุง ุชูุจู ูููุฏูุง ูุจุงุดุฑุฉ.
- ูุง ูููู ุชุนุทูู ุญุณุงุจ ูู ุฃุฑุตุฏุฉ ูุดุทุฉ.

## ุฃุญุฏุงุซ ุงููุทุงู (Domain Events)

| ุงูุญุฏุซ | ุงููุตู |
| --- | --- |
| `AccountRegistered` | ููุตุฏุฑ ุนูุฏ ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ ูู ุงูุฏููู |
| `AccountDeactivated` | ููุตุฏุฑ ุนูุฏ ุชุนุทูู ุญุณุงุจ |

## ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

| ุงูุฃูุฑ / ุงูุงุณุชุนูุงู | ุงูููุน | ุงููุตู |
| --- | --- | --- |
| `RegisterAccount` | Command | ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ ูู ุงูุฏููู ุงููุญุงุณุจู |

## ุงูุงุนุชูุงุฏูุงุช

- ููุชูู ุฅูู Aggregate ุงูุฏููู ุงููุญุงุณุจู (`ChartOfAccounts`).
- ููุณุชุฎุฏู ูู ุณุทูุฑ ุงููููุฏ ุงูููููุฉ (`JournalLine`).

_Last Updated: 2026-02-10_

---

# ุงูุฏููู ุงููุญุงุณุจู (Chart of Accounts)

> **ุญุงูุฉ ุงูุชูููุฐ:** โ ููููุฐ
>
> ๐ `docs/modules/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ุงูุฏููู ุงููุญุงุณุจู ูู ุงููููู ุงูุดุฌุฑู ููุญุณุงุจุงุช ุงูุฐู ูููุธูู ุฌููุน ุงูุนูููุงุช ุงููุงููุฉ. ูููู ูุชุญู ูุชุณุฌูู ุญุณุงุจุงุช ูููุ ููุง ูููู ุชุนุฏููู ุจุนุฏ ุงูุฅุบูุงู.

## ุงููููุน ูู ุงูููุฏ

```
src/ERP.Domain/Accounting/Aggregates/ChartOfAccounts/
src/ERP.Application/Accounting/ChartOfAccounts/
```

## ุงูููุงูุงุช ูุงูู Value Objects

| ุงูุนูุตุฑ | ุงูููุน | ุงููุตู |
| --- | --- | --- |
| `ChartOfAccounts` | Aggregate Root | ุงูุฏููู ุงููุญุงุณุจู |
| `Account` | Entity | ุงูุญุณุงุจ ุฏุงุฎู ุงูุฏููู |
| `ChartOfAccountsId` | Value Object | ูุนุฑูู ุงูุฏููู |
| `ChartName` | Value Object | ุงุณู ุงูุฏููู |

## ุงูููุงุนุฏ (Invariants)

- ูุง ูููู ุชุณุฌูู ุญุณุงุจ ุจุฑูู ููุฑุฑ (`DuplicateAccountNumberException`).
- ูุง ูููู ุชุนุฏูู ุฏููู ููุบูู (`ChartClosedException`).
- ูู ุญุณุงุจ ูู ุฑูู ูุฑูุฏ ููุณุชูู ูู ุงูุดุฌุฑุฉ.

## ุฃุญุฏุงุซ ุงููุทุงู (Domain Events)

| ุงูุญุฏุซ | ุงููุตู |
| --- | --- |
| `ChartOpened` | ููุตุฏุฑ ุนูุฏ ูุชุญ ุฏููู ูุญุงุณุจู ุฌุฏูุฏ |
| `AccountRegistered` | ููุตุฏุฑ ุนูุฏ ุชุณุฌูู ุญุณุงุจ ูู ุงูุฏููู |

## ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

| ุงูุฃูุฑ / ุงูุงุณุชุนูุงู | ุงูููุน | ุงููุตู |
| --- | --- | --- |
| `OpenChart` | Command | ูุชุญ ุฏููู ูุญุงุณุจู ุฌุฏูุฏ |
| `RegisterAccount` | Command | ุชุณุฌูู ุญุณุงุจ ูู ุงูุฏููู |
| `GetChartById` | Query | ุงุณุชุนูุงู ุนู ุฏููู ุจูุนุฑููู |
| `ListCharts` | Query | ุนุฑุถ ูุงุฆูุฉ ุงูุฃุฏูุฉ ุงููุญุงุณุจูุฉ |

## ุงูุงุนุชูุงุฏูุงุช

- ูุญุชูู ุนูู ููุงูุงุช `Account`.
- ููุณุชุฎุฏู ููุฑุฌุน ูุณุทูุฑ ุงููููุฏ ุงูููููุฉ.

_Last Updated: 2026-02-10_

---

# ูุฑุงูุฒ ุงูุชูููุฉ (Cost Centers)

> **ุญุงูุฉ ุงูุชูููุฐ:** ๐ง ุฌุฒุฆู โ Value Object ููุท (`ProjectId`)
>
> ๐ `docs/modules/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ูุฑุงูุฒ ุงูุชูููุฉ ุชุณูุญ ุจุชุชุจุน ุงููุตุงุฑูู ูุงูุฅูุฑุงุฏุงุช ุนูู ูุณุชูู ุฃุฏู ูู ุงูุญุณุงุจ (ูุซู: ูุฑุนุ ูุณูุ ูุดุฑูุน). ุชูุณุชุฎุฏู ูู ุงูุชูุงุฑูุฑ ุงูุชุญููููุฉ ูุฑุจุท ุงููููุฏ ุจุฃุจุนุงุฏ ุฅุถุงููุฉ.

## ุงููููุน ูู ุงูููุฏ

```
src/ERP.Domain/Accounting/
```

## ุงูููุงูุงุช ูุงูู Value Objects

| ุงูุนูุตุฑ | ุงูููุน | ุงููุตู |
| --- | --- | --- |
| `ProjectId` | Value Object | ูุนุฑูู ูุฑูุฒ ุงูุชูููุฉ/ุงููุดุฑูุน |

## ุงูููุงุนุฏ (Invariants)

- ูู ูุฑูุฒ ุชูููุฉ ูู ุฑูู ูุฑูุฏ.
- ูููู ุฑุจุทู ุจุณุทูุฑ ุงููููุฏ ุงูููููุฉ.
- ููุณุชุฎุฏู ูู ุงูุชูุงุฑูุฑ ุงูุชุญููููุฉ.

## ุฃุญุฏุงุซ ุงููุทุงู (Domain Events)

ูุง ููุฌุฏ ุญุงูููุง.

## ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

ูุง ููุฌุฏ ุญุงูููุง.

## ุงูุงุนุชูุงุฏูุงุช

- ููุฑุจุท ุจุณุทูุฑ ุงููููุฏ ุงูููููุฉ (`JournalLine`) ุนุจุฑ `ProjectId`.

## Failure Modes โ ุญุงูุงุช ุงููุดู

- ุฃุญุฏุงุซ ุงููุทุงู (Domain Events) ุบูุฑ ููููุฐุฉ โ ุชุญุชุงุฌ ุจูุงุก Aggregate ูุณุชูู ููุฑุงูุฒ ุงูุชูููุฉ.
- ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ุบูุฑ ููููุฐุฉ โ ูุฎุทุท ููุง ุถูู ุงูุชูุณุนุงุช ุงููุณุชูุจููุฉ.

_Last Updated: 2026-02-10_

---

# ุงููุฎุฒูู (Inventory)

> **ุญุงูุฉ ุงูุชูููุฐ:** ๐ง ุบูุฑ ููููุฐ
>
> ๐ `docs/modules/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ูุญุฏุฉ ุงููุฎุฒูู ุชุบุทู ุฅุฏุงุฑุฉ ุงููุฎุงุฒู ูุงูุฃุตูุงู ูุญุฑูุงุช ุงููุฎุฒูู: ุชูุฑูุฏุ ุตุฑูุ ุชุญูููุ ุชุณููุฉุ ูุฌุฑุฏ. ุชุชุถูู ุฅุนุฏุงุฏ ูุญุฏุงุช ุงูููุงุณุ ูุณุชููุงุช ุงูุชุณุนูุฑุฉุ ูุงููุฎุฒูู ุงูุงูุชุชุงุญู.

## ุงููููุน ูู ุงูููุฏ

ุบูุฑ ููููุฐ ุญุงูููุง.

```
src/ERP.Domain/Inventory/          (ูุฎุทุท)
src/ERP.Application/Inventory/     (ูุฎุทุท)
```

## ุงูููุงูุงุช ูุงูู Value Objects

| ุงูุนูุตุฑ | ุงูููุน | ุงููุตู |
| --- | --- | --- |
| `Warehouse` | Aggregate Root | ุงููุฎุฒู |
| `Item` | Aggregate Root | ุงูุตูู |
| `StockMovement` | Entity | ุญุฑูุฉ ูุฎุฒููุฉ |
| `StockAdjustment` | Entity | ุชุณููุฉ ูุฎุฒูู |

## ุงูููุงุนุฏ (Invariants)

- ูุง ูููู ุตุฑู ูููุฉ ุฃูุจุฑ ูู ุงูุฑุตูุฏ ุงููุชุงุญ.
- ุงูุชุญููู ุจูู ุงููุฎุงุฒู ูุชุทูุจ ุงุณุชูุงููุง ูุทุงุจููุง.
- ุงูุชุณููุฉ ุชูุนุฏูู ุงูุฑุตูุฏ ูุน ุชูุซูู ุงูุณุจุจ.
- ุงูุฌุฑุฏ ููุทุงุจู ุงูุฃุฑุตุฏุฉ ุงููุนููุฉ ูุน ุงูุฏูุชุฑูุฉ.

## ุฃุญุฏุงุซ ุงููุทุงู (Domain Events)

ูุง ููุฌุฏ ุญุงูููุง.

## ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

> ูู ุดุฌุฑุฉ ุงููุธุงุฆู:

| ุงูุนูููุฉ | ุงููุตู |
| --- | --- |
| ุฃูุฑ ุชูุฑูุฏ ูุฎุฒูู | ุงุณุชูุงู ุฃุตูุงู ูู ุงููุฎุฒู |
| ุฃูุฑ ุตุฑู ูุฎุฒูู | ุตุฑู ุฃุตูุงู ูู ุงููุฎุฒู |
| ุชุญููู ูุฎุฒูู | ููู ุฃุตูุงู ุจูู ุงููุฎุงุฒู |
| ุงุณุชูุงู ุชุญููู | ุชุฃููุฏ ุงุณุชูุงู ุงูุชุญููู |
| ุชุณููุฉ ูุฎุฒูู | ุชุนุฏูู ุฃุฑุตุฏุฉ ุงููุฎุฒูู |
| ุฌุฑุฏ ุงููุฎุฒูู | ูุทุงุจูุฉ ุงูุฃุฑุตุฏุฉ ุงููุนููุฉ ูุงูุฏูุชุฑูุฉ |

## ุงูุงุนุชูุงุฏูุงุช

- ุชุนุชูุฏ ุนูู ูุญุฏุฉ ุงูุญุณุงุจุงุช ูุฑุจุท ุงููุฎุฒูู ุจุงูุฃุณุชุงุฐ ุงูุนุงู.
- ุชูุณุชุฎุฏู ูู ูุญุฏุชู ุงููุจูุนุงุช ูุงููุดุชุฑูุงุช.

## Failure Modes โ ุญุงูุงุช ุงููุดู

- ุงููุญุฏุฉ ุบูุฑ ููููุฐุฉ ุจุงููุงูู โ ุงูููุงูุงุช ูุฃุญุฏุงุซ ุงููุทุงู ูุญุงูุงุช ุงูุงุณุชุฎุฏุงู ูุฎุทุท ููุง ุถูู ุงูุชูุณุนุงุช ุงููุณุชูุจููุฉ.

_Last Updated: 2026-02-10_

---

# ุงููููุฏ ุงูููููุฉ (Journal)

> **ุญุงูุฉ ุงูุชูููุฐ:** โ ููููุฐ
>
> ๐ `docs/modules/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ุงูููุฏ ุงููููู ูู ุงููุญุฏุฉ ุงูุฃุณุงุณูุฉ ููุชุณุฌูู ุงููุญุงุณุจู. ูู ููุฏ ูุญุชูู ุณุทูุฑูุง ูุฏููุฉ ูุฏุงุฆูุฉ ูุฌุจ ุฃู ุชุชูุงุฒู. ููุฏุงุฑ ุถูู ุฏูุชุฑ ุฃุณุชุงุฐ (`Ledger`) ูููุฑ ุจูุฑุงุญู: ุฅูุดุงุก โ ุฅุถุงูุฉ ุณุทูุฑ โ ุชุฑุญูู.

## ุงููููุน ูู ุงูููุฏ

```
src/ERP.Domain/Accounting/Aggregates/Journals/
src/ERP.Application/Accounting/Journals/
```

## ุงูููุงูุงุช ูุงูู Value Objects

| ุงูุนูุตุฑ | ุงูููุน | ุงููุตู |
| --- | --- | --- |
| `Journal` | Aggregate Root | ุงูููุฏ ุงููููู |
| `JournalLine` | Entity | ุณุทุฑ ุงูููุฏ (ูุฏูู ุฃู ุฏุงุฆู) |
| `JournalId` | Value Object | ูุนุฑูู ุงูููุฏ |
| `JournalNumber` | Value Object | ุฑูู ุงูููุฏ ุงูุชุณูุณูู |
| `Money` | Value Object | ุงููุจูุบ ุงููุงูู |
| `Currency` | Value Object | ุงูุนููุฉ |

## ุงูููุงุนุฏ (Invariants)

- ูุฌููุน ุงููุฏูู = ูุฌููุน ุงูุฏุงุฆู (invariant ุฃุณุงุณู).
- ุงูููุฏ ูุญุชูู ุณุทุฑูุง ูุงุญุฏูุง ุนูู ุงูุฃูู.
- ุจุนุฏ ุงูุชุฑุญูู ูุง ูููู ุงูุชุนุฏูู.
- ูุง ูููู ุชุฑุญูู ููุฏ ุบูุฑ ูุชูุงุฒู.

## ุฃุญุฏุงุซ ุงููุทุงู (Domain Events)

| ุงูุญุฏุซ | ุงููุตู |
| --- | --- |
| `JournalPosted` | ููุตุฏุฑ ุนูุฏ ุชุฑุญูู ุงูููุฏ |

## ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

| ุงูุฃูุฑ / ุงูุงุณุชุนูุงู | ุงูููุน | ุงููุตู |
| --- | --- | --- |
| `StartJournal` | Command | ุจุฏุก ููุฏ ููููุฉ ุฌุฏูุฏ |
| `AddJournalLine` | Command | ุฅุถุงูุฉ ุณุทุฑ ูุฏูู ุฃู ุฏุงุฆู |
| `PostJournal` | Command | ุชุฑุญูู ุงูููุฏ |
| `GetJournalById` | Query | ุงุณุชุนูุงู ุนู ููุฏ ุจูุนุฑููู |
| `ListJournals` | Query | ุนุฑุถ ูุงุฆูุฉ ุงููููุฏ |

## ุงูุงุนุชูุงุฏูุงุช

- ููุณุฌููู ูู ุฏูุชุฑ ุงูุฃุณุชุงุฐ (`Ledger`) ุนุจุฑ `RegisterJournal`.
- ูุณุชุฎุฏู `AccountId` ูุฑุจุท ุงูุณุทูุฑ ุจุงูุญุณุงุจุงุช.

_Last Updated: 2026-02-10_

---

# ุฏูุชุฑ ุงูุฃุณุชุงุฐ (Ledger)

> **ุญุงูุฉ ุงูุชูููุฐ:** โ ููููุฐ
>
> ๐ `docs/modules/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ุฏูุชุฑ ุงูุฃุณุชุงุฐ ูู ุงูุญุงููุฉ ุงูุฒูููุฉ ูููููุฏ ุงูููููุฉ. ูุฑุชุจุท ุจูุชุฑุฉ ูุญุงุณุจูุฉ ูุญุฏุฏุฉ ููููู ุฅููุงูู ูููุน ุฃู ุชุนุฏููุงุช ุฅุถุงููุฉ.

## ุงููููุน ูู ุงูููุฏ

```
src/ERP.Domain/Accounting/Aggregates/Ledgers/
src/ERP.Application/Accounting/Ledgers/
```

## ุงูููุงูุงุช ูุงูู Value Objects

| ุงูุนูุตุฑ | ุงูููุน | ุงููุตู |
| --- | --- | --- |
| `Ledger` | Aggregate Root | ุฏูุชุฑ ุงูุฃุณุชุงุฐ |
| `LedgerId` | Value Object | ูุนุฑูู ุงูุฏูุชุฑ |
| `AccountingPeriod` | Value Object | ุงููุชุฑุฉ ุงููุญุงุณุจูุฉ |

## ุงูููุงุนุฏ (Invariants)

- ูุง ูููู ุชุณุฌูู ููุฏ ูู ุฏูุชุฑ ููููู (`LedgerClosedException`).
- ุงูููุฏ ูุฌุจ ุฃู ูููู ุถูู ุงููุชุฑุฉ ุงููุญุงุณุจูุฉ ููุฏูุชุฑ (`JournalOutsidePeriodException`).
- ูุง ูููู ุชุณุฌูู ููุฏ ููุฑุฑ (`DuplicateJournalRegistrationException`).

## ุฃุญุฏุงุซ ุงููุทุงู (Domain Events)

| ุงูุญุฏุซ | ุงููุตู |
| --- | --- |
| `LedgerClosed` | ููุตุฏุฑ ุนูุฏ ุฅููุงู ุงูุฏูุชุฑ |

## ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

| ุงูุฃูุฑ / ุงูุงุณุชุนูุงู | ุงูููุน | ุงููุตู |
| --- | --- | --- |
| `OpenLedger` | Command | ูุชุญ ุฏูุชุฑ ุฃุณุชุงุฐ ุฌุฏูุฏ |
| `RegisterJournal` | Command | ุชุณุฌูู ููุฏ ูู ุงูุฏูุชุฑ |
| `CloseLedger` | Command | ุฅููุงู ุงูุฏูุชุฑ |
| `GetLedgerById` | Query | ุงุณุชุนูุงู ุนู ุฏูุชุฑ ุจูุนุฑููู |
| `ListLedgers` | Query | ุนุฑุถ ูุงุฆูุฉ ุงูุฏูุงุชุฑ |

## ุงูุงุนุชูุงุฏูุงุช

- ูุญุชูู ุนูู ูุฑุงุฌุน ูููููุฏ ุงูููููุฉ (`Journal`).
- ูุนุชูุฏ ุนูู `AccountingPeriod` ูุชุญุฏูุฏ ุตูุงุญูุฉ ุงูุชุณุฌูู.

_Last Updated: 2026-02-10_

---

# ุงููุดุชุฑูุงุช (Purchases)

> **ุญุงูุฉ ุงูุชูููุฐ:** ๐ง ุบูุฑ ููููุฐ
>
> ๐ `docs/modules/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ูุญุฏุฉ ุงููุดุชุฑูุงุช ุชุบุทู ุฅุฏุงุฑุฉ ููุงุชูุฑ ุงููุดุชุฑูุงุช ุงููุญููุฉ ูุงูุฎุงุฑุฌูุฉุ ุฃูุงูุฑ ุงูุดุฑุงุกุ ูุฑุชุฌุนุงุช ุงููุดุชุฑูุงุชุ ูุงูุงุนุชูุงุฏุงุช ุงููุณุชูุฏูุฉ.

## ุงููููุน ูู ุงูููุฏ

ุบูุฑ ููููุฐ ุญุงูููุง.

```
src/ERP.Domain/Purchases/          (ูุฎุทุท)
src/ERP.Application/Purchases/     (ูุฎุทุท)
```

## ุงูููุงูุงุช ูุงูู Value Objects

| ุงูุนูุตุฑ | ุงูููุน | ุงููุตู |
| --- | --- | --- |
| `PurchaseInvoice` | Aggregate Root | ูุงุชูุฑุฉ ุงููุดุชุฑูุงุช |
| `PurchaseOrder` | Aggregate Root | ุฃูุฑ ุงูุดุฑุงุก |
| `PurchaseReturn` | Aggregate Root | ูุฑุชุฌุน ุงููุดุชุฑูุงุช |

## ุงูููุงุนุฏ (Invariants)

- ุงููุงุชูุฑุฉ ูุฌุจ ุฃู ุชุญุชูู ุณุทุฑูุง ูุงุญุฏูุง ุนูู ุงูุฃูู.
- ุฃูุฑ ุงูุดุฑุงุก ูุฌุจ ุฃู ููุนุชูุฏ ูุจู ุงูุชูููุฐ.
- ุงููุฑุชุฌุน ูุฌุจ ุฃู ูุฑุชุจุท ุจูุงุชูุฑุฉ ุฃุตููุฉ.
- ุงูุงุนุชูุงุฏ ุงููุณุชูุฏู ูุฑุชุจุท ุจุนูููุฉ ุงุณุชูุฑุงุฏ ุฎุงุฑุฌูุฉ.

## ุฃุญุฏุงุซ ุงููุทุงู (Domain Events)

ูุง ููุฌุฏ ุญุงูููุง.

## ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

> ูู ุดุฌุฑุฉ ุงููุธุงุฆู:

| ุงูุนูููุฉ | ุงููุตู |
| --- | --- |
| ูุงุชูุฑุฉ ูุดุชุฑูุงุช ูุญููุฉ | ุชุณุฌูู ูุงุชูุฑุฉ ุดุฑุงุก ูุญููุฉ |
| ูุงุชูุฑุฉ ูุดุชุฑูุงุช ุฎุงุฑุฌูุฉ | ุชุณุฌูู ูุงุชูุฑุฉ ุดุฑุงุก ุฎุงุฑุฌูุฉ (ุงุณุชูุฑุงุฏ) |
| ุฃูุงูุฑ ุงูุดุฑุงุก | ุฅูุดุงุก ูุงุนุชูุงุฏ ุฃูุงูุฑ ุดุฑุงุก |
| ูุฑุชุฌุน ูุดุชุฑูุงุช | ุชุณุฌูู ูุฑุชุฌุน ุนูู ูุงุชูุฑุฉ ุณุงุจูุฉ |
| ุงุนุชูุงุฏ ูุณุชูุฏู | ุฅุฏุงุฑุฉ ุงูุงุนุชูุงุฏุงุช ุงููุณุชูุฏูุฉ |

## ุงูุงุนุชูุงุฏูุงุช

- ุชุนุชูุฏ ุนูู ูุญุฏุฉ ุงูุญุณุงุจุงุช ูุชูููุฏ ุงููููุฏ ุงููุญุงุณุจูุฉ.
- ุชุนุชูุฏ ุนูู ูุญุฏุฉ ุงููุฎุฒูู ูุชุญุฏูุซ ุงูุฃุฑุตุฏุฉ.
- ุชุนุชูุฏ ุนูู ุจูุงูุงุช ุงูููุฑุฏูู.

## Failure Modes โ ุญุงูุงุช ุงููุดู

- ุงููุญุฏุฉ ุบูุฑ ููููุฐุฉ ุจุงููุงูู โ ุงูููุงูุงุช ูุฃุญุฏุงุซ ุงููุทุงู ูุญุงูุงุช ุงูุงุณุชุฎุฏุงู ูุฎุทุท ููุง ุถูู ุงูุชูุณุนุงุช ุงููุณุชูุจููุฉ.

_Last Updated: 2026-02-10_

---

# ุงููุจูุนุงุช (Sales)

> **ุญุงูุฉ ุงูุชูููุฐ:** ๐ง ุบูุฑ ููููุฐ
>
> ๐ `docs/modules/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ูุญุฏุฉ ุงููุจูุนุงุช ุชุบุทู ุฅุฏุงุฑุฉ ููุงุชูุฑ ุงููุจูุนุงุช ููุฑุฏูุฏุงุช ุงููุจูุนุงุช. ุชุดูู ุงูุนูููุงุช: ุฅุตุฏุงุฑ ูุงุชูุฑุฉ ูุจูุนุงุชุ ุชุณุฌูู ูุฑุฏูุฏ ูุจูุนุงุชุ ูุฑุจุท ุงูุญุฑูุงุช ุจุงูุญุณุงุจุงุช ูุงููุฎุฒูู.

## ุงููููุน ูู ุงูููุฏ

ุบูุฑ ููููุฐ ุญุงูููุง.

```
src/ERP.Domain/Sales/          (ูุฎุทุท)
src/ERP.Application/Sales/     (ูุฎุทุท)
```

## ุงูููุงูุงุช ูุงูู Value Objects

| ุงูุนูุตุฑ | ุงูููุน | ุงููุตู |
| --- | --- | --- |
| `SalesInvoice` | Aggregate Root | ูุงุชูุฑุฉ ุงููุจูุนุงุช |
| `SalesReturn` | Aggregate Root | ูุฑุฏูุฏ ุงููุจูุนุงุช |

## ุงูููุงุนุฏ (Invariants)

- ุงููุงุชูุฑุฉ ูุฌุจ ุฃู ุชุญุชูู ุณุทุฑูุง ูุงุญุฏูุง ุนูู ุงูุฃูู.
- ูุฌููุน ุงููุงุชูุฑุฉ ูุฌุจ ุฃู ูุชูุงูู ูุน ุณุทูุฑูุง.
- ุงููุฑุฏูุฏ ูุฌุจ ุฃู ูุฑุชุจุท ุจูุงุชูุฑุฉ ุฃุตููุฉ.

## ุฃุญุฏุงุซ ุงููุทุงู (Domain Events)

ูุง ููุฌุฏ ุญุงูููุง.

## ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

> ูู ุดุฌุฑุฉ ุงููุธุงุฆู:

| ุงูุนูููุฉ | ุงููุตู |
| --- | --- |
| ูุงุชูุฑุฉ ูุจูุนุงุช | ุฅุตุฏุงุฑ ูุงุชูุฑุฉ ุจูุน ููุนููู |
| ูุฑุฏูุฏ ูุจูุนุงุช | ุชุณุฌูู ูุฑุฏูุฏ ุนูู ูุงุชูุฑุฉ ุณุงุจูุฉ |

## ุงูุงุนุชูุงุฏูุงุช

- ุชุนุชูุฏ ุนูู ูุญุฏุฉ ุงูุญุณุงุจุงุช ูุชูููุฏ ุงููููุฏ ุงููุญุงุณุจูุฉ.
- ุชุนุชูุฏ ุนูู ูุญุฏุฉ ุงููุฎุฒูู ูุชุญุฏูุซ ุงูุฃุฑุตุฏุฉ.

## Failure Modes โ ุญุงูุงุช ุงููุดู

- ุงููุญุฏุฉ ุบูุฑ ููููุฐุฉ ุจุงููุงูู โ ุงูููุงูุงุช ูุฃุญุฏุงุซ ุงููุทุงู ูุญุงูุงุช ุงูุงุณุชุฎุฏุงู ูุฎุทุท ููุง ุถูู ุงูุชูุณุนุงุช ุงููุณุชูุจููุฉ.

_Last Updated: 2026-02-10_

---

# Aggregates (ุงูููุงูุงุช ุงููุฌููุนุฉ)

> ๐ `docs/domain/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ุงูู Aggregate ูู ุญุฏูุฏ ุงูุงุชุณุงู (Consistency Boundary) ูู ูููุฐุฌ ุงูุฃุนูุงู. ูู Aggregate ูุญูู ููุงุนุฏู ุงูุฏุงุฎููุฉ (invariants) ููุง ููุนุฏููู ุฅูุง ุนุจุฑ ุฌุฐุฑู (Aggregate Root).

## ุงููููุน ูู ุงูููุฏ

```
src/ERP.Domain/
```

## ุงูููุงุนุฏ

- ูู Aggregate Root ูุฑุซ ูู `Entity` ุฃู ูุทุจูู ูููุฉ ูุฑูุฏุฉ.
- ุงูุชุนุฏูู ูุชู ููุท ุนุจุฑ methods ุนูู ุงูู Root.
- ูุง ููุณูุญ ุจุงููุตูู ุงููุจุงุดุฑ ููููุงูุงุช ุงูุฏุงุฎููุฉ ูู ุฎุงุฑุฌ ุงูู Aggregate.

_Last Updated: 2026-02-10_

---

# Domain Events (ุฃุญุฏุงุซ ุงููุทุงู)

> ๐ `docs/domain/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ุฃุญุฏุงุซ ุงููุทุงู ุชุตู **ุดูุฆุงู ุญุฏุซ ุจุงููุนู** ูู ุณูุงู ุงูุฃุนูุงู. ุชูุณุชุฎุฏู ููุชูุงุตู ุจูู ุงูู Aggregates ุจุฏูู ุงูุชุฑุงู ูุจุงุดุฑ.

## ุงููููุน ูู ุงูููุฏ

```
src/ERP.Domain/
```

## ุงูููุงุนุฏ

- ุงูุญุฏุซ ููุตุงุบ ุจุตูุบุฉ ุงููุงุถู (ูุซู `JournalPosted`ุ `AccountRegistered`).
- ุงูุญุฏุซ ูุง ูุญุชูู ููุทู ุฃุนูุงู โ ุจูุงูุงุช ููุท.
- ูุชู ุฅุตุฏุงุฑู ูู ุฏุงุฎู ุงูู Aggregate Root.

_Last Updated: 2026-02-10_

---

# Invariants โ ุงููููุฏ ุงูุฌููุฑูุฉ

> ๐ `docs/domain/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ุงูู Invariants ูู ุงูููุงุนุฏ ุงูุชู ูุฌุจ ุฃู ุชููู ุตุญูุญุฉ **ุฏุงุฆูุงู** ุฏุงุฎู ุญุฏูุฏ ุงูู Aggregate. ุฃู ุนูููุฉ ุชูุณุฑ invariant ูุฌุจ ุฃู ุชูุฑูุถ ููุฑุงู.

## ุงููููุน ูู ุงูููุฏ

```
src/ERP.Domain/
```

## ุงูููุงุนุฏ

- ูุชู ูุฑุถ ุงูู invariants ุฏุงุฎู ุงูู Aggregate Root (ูู constructor ุฃู methods).
- ุนูุฏ ุงูุงูุชูุงู ููุฑูู Exception ูุงุถุญ.
- ุงูุงุฎุชุจุงุฑุงุช ูู `tests/ERP.Domain.Tests` ุชุชุญูู ูู ูู invariant.

_Last Updated: 2026-02-10_

---

# Commands (ุงูุฃูุงูุฑ)

> ๐ `docs/application/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ุงูู Command ููุซูู **ููุฉ ูุชุบููุฑ ุงูุญุงูุฉ**. ูู Command ููุงุจูู Handler ูุงุญุฏ ููุณูู ุงูุนูููุฉ.

## ุงููููุน ูู ุงูููุฏ

```
src/ERP.Application/
```

## ุงูููุงุนุฏ

- Command = ูุงุฆู ุจูุงูุงุช (DTO) ูุตู ุงูุนูููุฉ ุงููุทููุจุฉ.
- Handler ูุณุชุฏุนู ุงูู Domain ุซู ูุญูุธ ุนุจุฑ Repository.
- ูุง ููุฑุฌุน ุจูุงูุงุช (ุฃู ูุฑุฌุน ID ููุท ุนูุฏ ุงูุถุฑูุฑุฉ).

_Last Updated: 2026-02-10_

---

# Queries (ุงูุงุณุชุนูุงูุงุช)

> ๐ `docs/application/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ุงูู Query ููุซูู **ุทูุจ ูุฑุงุกุฉ ุจูุงูุงุช** ุจุฏูู ุชุบููุฑ ุงูุญุงูุฉ. ููุตู ูุณุงุฑ ุงููุฑุงุกุฉ ุนู ูุณุงุฑ ุงููุชุงุจุฉ (CQRS).

## ุงููููุน ูู ุงูููุฏ

```
src/ERP.Application/
```

## ุงูููุงุนุฏ

- Query = ูุงุฆู ุจูุงูุงุช ูุตู ูุง ูุฑูุฏ ูุฑุงุกุชู.
- Handler ููุฑุฃ ูู Repository ูููุฑุฌุน DTO.
- ูุง ููุบููุฑ ุญุงูุฉ ุฃู Aggregate.

_Last Updated: 2026-02-10_

---

# Use Cases โ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

> ๐ `docs/application/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ุญุงูุฉ ุงูุงุณุชุฎุฏุงู ุชูุณูู ุชุฏูู ุงูุนูู ุจูู ุงูู Domain ูุงูู Infrastructure ุนุจุฑ ูุงุฌูุงุช ูุญุฏุฏุฉ.

## ุงููููุน ูู ุงูููุฏ

```
src/ERP.Application/
```

## ุงูุญุงูุฉ ุงูุญุงููุฉ

- ููุฌุฏ MediatR ูุณุฌูู ุนุจุฑ `ApplicationModule.AddApplication(IServiceCollection)`.
- ููู ุงูู use-case handlers ุญุงูููุง **ูุง ุชุทุจูู** `IRequestHandler`ุ ูุชู ุงุณุชุฏุนุงุก `HandleAsync(...)` ูุจุงุดุฑุฉ.

## ุงูููุงุนุฏ

- ูู Use Case ููุงุจู Command ุฃู Query ูุงุญุฏ.
- Handler ูุณุชุฎุฏู `IUnitOfWork` ูุถูุงู ุญุฏูุฏ ุงููุนุงููุฉ.
- ูุง ูุญุชูู ููุทู ุฃุนูุงู โ ููููุถู ููู Domain.

## Failure Modes โ ุญุงูุงุช ุงููุดู

- ุงูุชุญูู ุงููุงูู ุฅูู MediatR (ุฅุฑุณุงู Commands/Queries ุนุจุฑ `ISender`) ุบูุฑ ููููุฐ ุจุนุฏ.

_Last Updated: 2026-02-10_

---

# Integrations โ ุงูุชูุงููุงุช ุงูุฎุงุฑุฌูุฉ

> ๐ `docs/infrastructure/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ุฃู ุชูุงูู ูุน ุฃูุธูุฉ ุฎุงุฑุฌูุฉ (APIs, Message Brokers, File Systems) ููููููุฐ ูู ุทุจูุฉ Infrastructure.

## ุงููููุน ูู ุงูููุฏ

```
src/ERP.Infrastructure/
```

## ุงูููุงุนุฏ

- ูู ุชูุงูู ูุทุจูู ูุงุฌูุฉ ูุนุฑููุฉ ูู Application.
- ูุง ูุนุชูุฏ ุนูู ุทุจูุฉ Presentation.
- ููุณุฌููู ูู DI Container ุนุจุฑ `InfrastructureModule`.

_Last Updated: 2026-02-10_

---

# Persistence โ ุงูุชุฎุฒูู

> ๐ `docs/infrastructure/` ยท [โ ุฎุฑูุทุฉ ุงูุชูุซูู](../documentation-map.md)

## ุงููุตู ุงูุนุงู

ุทุจูุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ ุชูููุฐ ูุงุฌูุงุช ุงูุชุฎุฒูู ุงููุนุฑููุฉ ูู Application. ุงูุชูููุฐ ุงูุญุงูู ูุณุชุฎุฏู In-Memory.

## ุงููููุน ูู ุงูููุฏ

```
src/ERP.Infrastructure/
```

## ุงูููุงุนุฏ

- Repository ูุทุจูู ูุงุฌูุฉ ูู Application.
- ูุง ูุญุชูู ููุทู ุฃุนูุงู.
- ูููู ุงุณุชุจุฏุงูู ุจุชูููุฐ ุขุฎุฑ (EF Core, Dapper, etc.) ุจุฏูู ุชุฃุซูุฑ ุนูู ุงูุทุจูุงุช ุงูุฃุฎุฑู.

_Last Updated: 2026-02-10_

---

_Last generated: 2026-02-24 06:25:48 UTC_
